function ignore(){}function id(n){return n}function fst(n){return n[0]}function snd(n){return n[1]}function trd(n){return n[2]}IntelliFactory={Runtime:{Ctor:function(n,t){return n.prototype=t.prototype,n},Class:function(n,t,i){var u=n,f,r,e;if(t){u=new t;for(f in n)u[f]=n[f]}if(r=function(n){if(n)for(var t in n)this[t]=n[t]},r.prototype=u,i)for(e in i)r[e]=i[e];return r},Clone:function(n){var t={};for(var i in n)t[i]=n[i];return t},NewObject:function(n){for(var i={},t=0;t<n.length;t++)i[n[t][0]]=n[t][1];return i},DeleteEmptyFields:function(n,t){for(var r,i=0;i<t.length;i++)r=t[i],n[r]===void 0&&delete n[r];return n},GetOptional:function(n){return n===void 0?null:{$:1,$0:n}},SetOptional:function(n,t,i){i?n[t]=i.$0:delete n[t]},SetOrDelete:function(n,t,i){i===void 0?delete n[t]:n[t]=i},Apply:function(n,t,i){return n.apply(t,i)},Bind:function(n){return function(){return n.apply(this,arguments)}},CreateFuncWithArgs:function(n){return function(){return n(Array.prototype.slice.call(arguments))}},CreateFuncWithOnlyThis:function(n){return function(){return n(this)}},CreateFuncWithThis:function(n){return function(){return n(this).apply(null,arguments)}},CreateFuncWithThisArgs:function(n){return function(){return n(this)(Array.prototype.slice.call(arguments))}},CreateFuncWithRest:function(n,t){return function(){return t(Array.prototype.slice.call(arguments,0,n).concat([Array.prototype.slice.call(arguments,n)]))}},CreateFuncWithArgsRest:function(n,t){return function(){return t([Array.prototype.slice.call(arguments,0,n),Array.prototype.slice.call(arguments,n)])}},BindDelegate:function(n,t){var i=n.bind(t);return i.$Func=n,i.$Target=t,i},CreateDelegate:function(n){if(n.length==0)return null;if(n.length==1)return n[0];var t=function(){for(var i,t=0;t<n.length;t++)i=n[t].apply(null,arguments);return i};return t.$Invokes=n,t},CombineDelegates:function(n){for(var t,i=[],r=0;r<n.length;r++)t=n[r],t&&("$Invokes"in t?i=i.concat(t.$Invokes):i.push(t));return IntelliFactory.Runtime.CreateDelegate(i)},DelegateEqual:function(n,t){var f,e,i,r,u;if(n===t)return!0;if(n==null||t==null||(f=n.$Invokes||[n],e=t.$Invokes||[t],f.length!=e.length))return!1;for(i=0;i<f.length;i++)if(r=f[i],u=e[i],!(r===u||"$Func"in r&&"$Func"in u&&r.$Func===u.$Func&&r.$Target==u.$Target))return!1;return!0},ThisFunc:function(n){return function(){var t=Array.prototype.slice.call(arguments);return t.unshift(this),n.apply(null,t)}},ThisFuncOut:function(n){return function(){var t=Array.prototype.slice.call(arguments);return n.apply(t.shift(),t)}},ParamsFunc:function(n,t){return function(){var i=Array.prototype.slice.call(arguments);return t.apply(null,i.slice(0,n).concat([i.slice(n)]))}},ParamsFuncOut:function(n,t){return function(){var i=Array.prototype.slice.call(arguments);return t.apply(null,i.slice(0,n).concat(i[n]))}},ThisParamsFunc:function(n,t){return function(){var i=Array.prototype.slice.call(arguments);return i.unshift(this),t.apply(null,i.slice(0,n+1).concat([i.slice(n+1)]))}},ThisParamsFuncOut:function(n,t){return function(){var i=Array.prototype.slice.call(arguments);return t.apply(i.shift(),i.slice(0,n).concat(i[n]))}},Curried:function(n,t,i){return i=i||[],function(r){var u=i.concat([r===void 0?null:r]);return t==1?n.apply(null,u):t==2?function(t){return n.apply(null,u.concat([t===void 0?null:t]))}:IntelliFactory.Runtime.Curried(n,t-1,u)}},Curried2:function(n){return function(t){return function(i){return n(t,i)}}},Curried3:function(n){return function(t){return function(i){return function(r){return n(t,i,r)}}}},UnionByType:function(n,t,i){for(var u,f=typeof t,r=0;r<n.length;r++)if(u=n[r],typeof u=="number"){if(Array.isArray(t)&&(u==0||t.length==u))return{$:r,$0:t}}else if(u==f)return{$:r,$0:t};if(!i)throw new Error("Type not expected for creating Choice value.");},ScriptBasePath:"./",ScriptPath:function(n,t){return this.ScriptBasePath+(this.ScriptSkipAssemblyDir?"":n+"/")+t},OnLoad:function(n){"load"in this||(this.load=[]);this.load.push(n)},Start:function(){function n(n){for(var t=0;t<n.length;t++)n[t]()}"load"in this&&(n(this.load),this.load=[])}}};IntelliFactory.Runtime.OnLoad(function(){self.WebSharper&&WebSharper.Activator&&WebSharper.Activator.Activate&&WebSharper.Activator.Activate()});Date.now||(Date.now=function(){return(new Date).getTime()});Math.trunc||(Math.trunc=function(n){return n<0?Math.ceil(n):Math.floor(n)});Object.setPrototypeOf||(Object.setPrototypeOf=function(n,t){return n.__proto__=t,n});console||(console={count:ignore,dir:ignore,error:ignore,group:ignore,groupEnd:ignore,info:ignore,log:ignore,profile:ignore,profileEnd:ignore,time:ignore,timeEnd:ignore,trace:ignore,warn:ignore});
/* https://github.com/jonathantneal/closest */
(function(w,p){p=w.Element.prototype
if(!p.matches){p.matches=p.msMatchesSelector||function(s){var m=(this.document||this.ownerDocument).querySelectorAll(s);for(var i=0;m[i]&&m[i]!==e;++i);return!!m[i]}}
if(!p.closest){p.closest=function(s){var e=this;while(e&&e.nodeType==1){if(e.matches(s))return e;e=e.parentNode}return null}}})(this);
(function(){for(var i=0,t=["webkit","moz"],n=0;n<t.length&&!window.requestAnimationFrame;++n)window.requestAnimationFrame=window[t[n]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[t[n]+"CancelAnimationFrame"]||window[t[n]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(n){var t=(new Date).getTime(),r=Math.max(0,16-(t-i)),u=window.setTimeout(function(){n(t+r)},r);return i=t+r,u});window.cancelAnimationFrame||(window.cancelAnimationFrame=function(n){clearTimeout(n)})})();
(function(){"use strict";var a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,_0,_1,_2,_3,_4,_5,_6,_7,_8,_9,_,$,ba,bb,bc,bd,be,bf,bg,bh,bi,bj,bk,bl,bm,bn,bo,bp,bq,br,bs,bt,bu,bv,bw,bx,by,bz,bA,bB,bC,bD,bE,bF,bG,bH,bI,bJ,bK,bL,bM,bN,bO,bP,bQ,bR,bS,bT,bU,bV,bW,bX,bY,bZ,b0;a=self;b=a.FSharpSPA=a.FSharpSPA||{};c=b.Client=b.Client||{};d=a.WebSharper=a.WebSharper||{};e=d.Operators=d.Operators||{};f=d.Obj=d.Obj||{};g=d.UI=d.UI||{};h=g.Templating=g.Templating||{};i=h.Runtime=h.Runtime||{};j=i.Server=i.Server||{};k=j.TemplateInstance=j.TemplateInstance||{};l=d.Arrays=d.Arrays||{};m=j.ProviderBuilder=j.ProviderBuilder||{};n=d.Unchecked=d.Unchecked||{};o=a.FSharpSPA_Templates=a.FSharpSPA_Templates||{};p=g.Var$1=g.Var$1||{};q=g.ListModel=g.ListModel||{};r=j.Handler=j.Handler||{};s=g.Var=g.Var||{};t=a.StartupCode$FSharpSPA$Client=a.StartupCode$FSharpSPA$Client||{};u=a.System=a.System||{};v=u.Guid=u.Guid||{};w=d.Collections=d.Collections||{};x=w.List=w.List||{};y=g.Client=g.Client||{};z=y.Templates=y.Templates||{};A=g.Doc=g.Doc||{};B=d.JavaScript=d.JavaScript||{};C=B.Pervasives=B.Pervasives||{};D=g.ConcreteVar=g.ConcreteVar||{};E=g.Snap=g.Snap||{};F=w.Dictionary=w.Dictionary||{};G=g.HtmlModule=g.HtmlModule||{};H=G.attr=G.attr||{};I=w.HashSet=w.HashSet||{};J=d.Seq=d.Seq||{};K=j.TemplateInitializer=j.TemplateInitializer||{};L=a.EventTarget;M=a.Node;N=B.JS=B.JS||{};O=g.Abbrev=g.Abbrev||{};P=O.Fresh=O.Fresh||{};Q=g.View=g.View||{};R=a.Object;S=g.AttrProxy=g.AttrProxy||{};T=g.CheckedInput=g.CheckedInput||{};U=d.Numeric=d.Numeric||{};V=g.Array=g.Array||{};W=b.Solver=b.Solver||{};X=w.DictionaryUtil=w.DictionaryUtil||{};Y=d.Enumerator=d.Enumerator||{};Z=Y.T=Y.T||{};_0=a.StartupCode$WebSharper_UI$Templates=a.StartupCode$WebSharper_UI$Templates||{};_1=a.WindowOrWorkerGlobalScope;_2=g.Docs=g.Docs||{};_3=g.DocElemNode=g.DocElemNode||{};_4=a.CharacterData;_5=g.Storage=g.Storage||{};_6=g.DomUtility=g.DomUtility||{};_7=g.Attrs=g.Attrs||{};_8=d.List=d.List||{};_9=_8.T=_8.T||{};_=W.Status=W.Status||{};$=W.Cmd=W.Cmd||{};ba=g.Elt=g.Elt||{};bb=z.Prepare=z.Prepare||{};bc=d.Slice=d.Slice||{};bd=w.KeyCollection=w.KeyCollection||{};be=g.An=g.An||{};bf=y.Settings=y.Settings||{};bg=O.Mailbox=O.Mailbox||{};bh=a.StartupCode$WebSharper_UI$Abbrev=a.StartupCode$WebSharper_UI$Abbrev||{};bi=y.Attrs=y.Attrs||{};bj=bi.Dyn=bi.Dyn||{};bk=_5.ArrayStorage=_5.ArrayStorage||{};bl=g.AttrModule=g.AttrModule||{};bm=d.Strings=d.Strings||{};bn=g.Updates=g.Updates||{};bo=w.ValueCollection=w.ValueCollection||{};bp=y.Docs=y.Docs||{};bq=bp.RunState=bp.RunState||{};br=bp.NodeSet=bp.NodeSet||{};bs=d.Concurrency=d.Concurrency||{};bt=g.Anims=g.Anims||{};bu=a.StartupCode$WebSharper_UI$Doc_Proxy=a.StartupCode$WebSharper_UI$Doc_Proxy||{};bv=w.HashSetUtil=w.HashSetUtil||{};bw=g.BindVar=g.BindVar||{};bx=a.StartupCode$WebSharper_UI$DomUtility=a.StartupCode$WebSharper_UI$DomUtility||{};by=a.StartupCode$WebSharper_UI$Animation=a.StartupCode$WebSharper_UI$Animation||{};bz=g.AppendList=g.AppendList||{};bA=a.StartupCode$WebSharper_UI$Attr_Client=a.StartupCode$WebSharper_UI$Attr_Client||{};bB=a.Error;bC=d.FormatException=d.FormatException||{};bD=d.OverflowException=d.OverflowException||{};bE=g.DynamicAttrNode=g.DynamicAttrNode||{};bF=bs.Scheduler=bs.Scheduler||{};bG=g.Easing=g.Easing||{};bH=bs.AsyncBody=bs.AsyncBody||{};bI=a.StartupCode$WebSharper_Main$Concurrency=a.StartupCode$WebSharper_Main$Concurrency||{};bJ=bs.CT=bs.CT||{};bK=O.HashSet=O.HashSet||{};bL=g.String=g.String||{};bM=d.CancellationTokenSource=d.CancellationTokenSource||{};bN=bp.DomNodes=bp.DomNodes||{};bO=d.Char=d.Char||{};bP=d.Queue=d.Queue||{};bQ=d.OperationCanceledException=d.OperationCanceledException||{};bR=d.Lazy=d.Lazy||{};bS=a.StartupCode$WebSharper_UI$AppendList=a.StartupCode$WebSharper_UI$AppendList||{};bT=d.LazyExtensionsProxy=d.LazyExtensionsProxy||{};bU=bT.LazyRecord=bT.LazyRecord||{};bV=a.IntelliFactory;bW=bV&&bV.Runtime;bX=a.jQuery;bY=a.console;bZ=a.Math;b0=a.Date;c.Main=function(){var b1,b2,b3,b4,b5,b6,b7,b8,b9,b_,b$,ca,cb,cc;b1=(b2=(b3=new m.New$1(),(b3.h.push({$:0,$0:"quicktest",$1:c.AoC()}),b3)),(b4=r.CompleteHoles(b2.k,b2.h,[]),(b5=new k.New(b4[1],o.aoc2020(b4[0])),b2.i=b5,b5))).get_Doc();z.LoadLocalTemplates("");A.RunById("aoc",b1);b6=p.Create$1("");b7=(b8=(b9=(b_=(b$=A.Convert(function(cd){var ce,cf,cg,ch;return(ce=(cf=new m.New$1(),(cf.h.push({$:1,$0:"name",$1:cd}),cf)),(cg=r.CompleteHoles(ce.k,ce.h,[]),(ch=new k.New(cg[1],o.listitem(cg[0])),ce.i=ch,ch))).get_Doc();},c.People().v),(ca=new m.New$1(),(ca.h.push({$:0,$0:"listcontainer",$1:b$}),ca))),(b_.h.push({$:8,$0:"name",$1:b6}),b_)),(b9.h.push(r.EventQ2(b9.k,"add",function(){return b9.i;},function(){c.People().Append(b6.Get());b6.Set("");})),b9)),(cb=r.CompleteHoles(b8.k,b8.h,[["name",0]]),(cc=new k.New(cb[1],o.main(cb[0])),b8.i=cc,cc))).get_Doc();z.LoadLocalTemplates("");A.RunById("main",b7);};c.AoC=function(){t.$cctor();return t.AoC;};c.People=function(){t.$cctor();return t.People;};c.Solve=function(b1){var b2;a.jQuery("#solved").val("");b2=a.String(l.get(W.Solve(b1),0));a.jQuery("#solved").val(b2);};e.FailWith=function(b1){throw new bB(b1);};e.KeyValue=function(b1){return[b1.K,b1.V];};f=d.Obj=bW.Class({Equals:function(b1){return this===b1;},GetHashCode:function(){return -1;}},null,f);f.New=bW.Ctor(function(){},f);k=j.TemplateInstance=bW.Class({get_Doc:function(){return this.doc;}},f,k);k.New=bW.Ctor(function(b1,b2){f.New.call(this);this.doc=b2;this.allVars=b1.$==0?b1.$0:e.FailWith("Should not happen");},k);l.get=function(b1,b2){l.checkBounds(b1,b2);return b1[b2];};l.checkBounds=function(b1,b2){if(b2<0||b2>=b1.length)e.FailWith("Index was outside the bounds of the array.");};l.length=function(b1){return b1.dims===2?b1.length*b1.length:b1.length;};l.set=function(b1,b2,b3){l.checkBounds(b1,b2);b1[b2]=b3;};m=j.ProviderBuilder=bW.Class({},f,m);m.New$1=bW.Ctor(function(){var b1;f.New.call(this);this.i=null;this.k=(b1=v.NewGuid(),a.String(b1));this.h=[];bW.SetOptional(this,"s",null);},m);n.Equals=function(b1,b2){var b3,b4,b5,b6;if(b1===b2)return true;else{b3=typeof b1;if(b3=="object"){if(b1===null||b1===void 0||b2===null||b2===void 0)return false;else if("Equals"in b1)return b1.Equals(b2);else if(b1 instanceof a.Array&&b2 instanceof a.Array)return n.arrayEquals(b1,b2);else if(b1 instanceof a.Date&&b2 instanceof a.Date)return n.dateEquals(b1,b2);else{b4=[true];for(var b7 in b1)if(function(b8){b4[0]=!b1.hasOwnProperty(b8)||b2.hasOwnProperty(b8)&&n.Equals(b1[b8],b2[b8]);return!b4[0];}(b7))break;if(b4[0]){for(var b8 in b2)if(function(b9){b4[0]=!b2.hasOwnProperty(b9)||b1.hasOwnProperty(b9);return!b4[0];}(b8))break;}return b4[0];}}else return b3=="function"&&("$Func"in b1?b1.$Func===b2.$Func&&b1.$Target===b2.$Target:"$Invokes"in b1&&"$Invokes"in b2&&n.arrayEquals(b1.$Invokes,b2.$Invokes));}};n.arrayEquals=function(b1,b2){var b3,b4;if(l.length(b1)===l.length(b2)){b3=true;b4=0;while(b3&&b4<l.length(b1)){!n.Equals(l.get(b1,b4),l.get(b2,b4))?b3=false:void 0;b4=b4+1;}return b3;}else return false;};n.dateEquals=function(b1,b2){return b1.getTime()===b2.getTime();};n.Hash=function(b1){var b2;b2=typeof b1;return b2=="function"?0:b2=="boolean"?b1?1:0:b2=="number"?b1:b2=="string"?n.hashString(b1):b2=="object"?b1==null?0:b1 instanceof a.Array?n.hashArray(b1):n.hashObject(b1):0;};n.hashString=function(b1){var b2,b3,b4;if(b1===null)return 0;else{b2=5381;for(b3=0,b4=b1.length-1;b3<=b4;b3++)b2=n.hashMix(b2,b1[b3].charCodeAt());return b2;}};n.hashArray=function(b1){var b2,b3,b4;b2=-34948909;for(b3=0,b4=l.length(b1)-1;b3<=b4;b3++)b2=n.hashMix(b2,n.Hash(l.get(b1,b3)));return b2;};n.hashObject=function(b1){var b2,b3;if("GetHashCode"in b1)return b1.GetHashCode();else{b2=[0];for(var b4 in b1)if(function(b5){b2[0]=n.hashMix(n.hashMix(b2[0],n.hashString(b5)),n.Hash(b1[b5]));return false;}(b4))break;return b2[0];}};n.hashMix=function(b1,b2){return(b1<<5)+b1+b2;};n.Compare=function(b1,b2){var b3,b4,b5,b6,b7,b8;if(b1===b2)return 0;else{b4=typeof b1;switch(b4=="function"?1:b4=="boolean"?2:b4=="number"?2:b4=="string"?2:b4=="object"?3:0){case 0:return typeof b2=="undefined"?0:-1;case 1:return e.FailWith("Cannot compare function values.");case 2:return b1<b2?-1:1;case 3:if(b1===null)b5=-1;else if(b2===null)b5=1;else if("CompareTo"in b1)b5=b1.CompareTo(b2);else if("CompareTo0"in b1)b5=b1.CompareTo0(b2);else if(b1 instanceof a.Array&&b2 instanceof a.Array)b5=n.compareArrays(b1,b2);else if(b1 instanceof a.Date&&b2 instanceof a.Date)b5=n.compareDates(b1,b2);else{b6=[0];for(var b9 in b1)if(function(b_){return!b1.hasOwnProperty(b_)?false:!b2.hasOwnProperty(b_)?(b6[0]=1,true):(b6[0]=n.Compare(b1[b_],b2[b_]),b6[0]!==0);}(b9))break;if(b6[0]===0){for(var b_ in b2)if(function(b$){return!b2.hasOwnProperty(b$)?false:!b1.hasOwnProperty(b$)&&(b6[0]=-1,true);}(b_))break;}b5=b6[0];}return b5;}}};n.compareArrays=function(b1,b2){var b3,b4;if(l.length(b1)<l.length(b2))return -1;else if(l.length(b1)>l.length(b2))return 1;else{b3=0;b4=0;while(b3===0&&b4<l.length(b1)){b3=n.Compare(l.get(b1,b4),l.get(b2,b4));b4=b4+1;}return b3;}};n.compareDates=function(b1,b2){return n.Compare(b1.getTime(),b2.getTime());};o.aoc2020=function(b1){z.LoadLocalTemplates("index");return b1?z.NamedTemplate("index",{$:1,$0:"aoc2020"},b1):void 0;};o.listitem=function(b1){z.LoadLocalTemplates("index");return b1?z.NamedTemplate("index",{$:1,$0:"listitem"},b1):void 0;};o.main=function(b1){z.LoadLocalTemplates("index");return b1?z.NamedTemplate("index",{$:1,$0:"main"},b1):void 0;};p=g.Var$1=bW.Class({},f,p);p.Create$1=function(b1){return new D.New(false,E.New({$:2,$0:b1,$1:[]}),b1);};q=g.ListModel=bW.Class({Append:function(b1){var b2,b3,b4,b5;b2=this;b3=this["var"].Get();b4=this.key(b1);b5=l.tryFindIndex(function(b6){return n.Equals(b2.key(b6),b4);},b3);b5!=null&&b5.$==1?this["var"].Set(this.storage.SSetAt(b5.$0,b1,b3)):this["var"].Set(this.storage.SAppend(b1,b3));this.ObsoleteKey(b4);},ObsoleteKey:function(b1){var b2,b3;b2=(b3=null,[this.it.TryGetValue(b1,{get:function(){return b3;},set:function(b4){b3=b4;}}),b3]);b2[0]?(E.Obsolete(b2[1]),this.it.Remove(b1)):void 0;},GetEnumerator:function(){return Y.Get(this["var"].Get());},GetEnumerator0:function(){return Y.Get0(this["var"].Get());}},f,q);q.New=bW.Ctor(function(b1,b2){q.New$3.call(this,b1,p.Create$1(l.ofSeq(J.distinctBy(b1,b2.SInit()))),b2);},q);q.New$3=bW.Ctor(function(b1,b2,b3){f.New.call(this);this.key=b1;this["var"]=b2;this.storage=b3;this.v=Q.Map(function(b4){return b4.slice();},this["var"].get_View());this.it=new F.New$5();},q);r.EventQ2=function(b1,b2,b3,b4){return{$:5,$0:b2,$1:function(b5){return function(b6){return b4({Vars:b3(),Target:b5,Event:b6});};}};};r.CompleteHoles=function(b1,b2,b3){var b5,b6,b7,b8,b9;function b4(b_,b$){var ca;return b6.Contains(b_)?null:(ca=b$===0?K.GetOrAddHoleFor(b1,b_,function(){return{$:8,$0:b_,$1:p.Create$1("")};}):b$===1?K.GetOrAddHoleFor(b1,b_,function(){return{$:13,$0:b_,$1:p.Create$1(0)};}):b$===2?K.GetOrAddHoleFor(b1,b_,function(){return{$:9,$0:b_,$1:p.Create$1(false)};}):e.FailWith("Invalid value type"),(b5.set_Item(b_,ca),{$:1,$0:ca}));}b5=new F.New$5();b6=new I.New$3();b7=Y.Get(b2);try{while(b7.MoveNext()){b8=b7.Current();b9=b8.$0;b6.Add(b9);b5.set_Item(b9,b8);}}finally{if(typeof b7=="object"&&"Dispose"in b7)b7.Dispose();}return[J.append(b2,l.choose(function(b_){return b4(b_[0],b_[1]);},b3)),{$:0,$0:b5}];};s=g.Var=bW.Class({},f,s);s.New=bW.Ctor(function(){f.New.call(this);},s);t.$cctor=function(){var b1;t.$cctor=a.ignore;t.People=q.FromSeq(["John","Paul"]);t.AoC=(b1=p.Create$1(null),A.Element("div",[],[A.Element("h1",[],[A.TextNode("Let's start with Advent of Code")]),A.Element("p",[],[A.TextNode("Quick test")]),A.Element("a",[S.Create("href","  https://adventofcode.com/2019/day/2"),S.Create("target","_blank")],[A.TextNode("visit advent of code 2019 day 1")]),A.Element("br",[],[]),A.Button("Grab input day 2 part 1 2019",[],function(){bX.ajax("Content/input_2019_02.txt",{beforeSend:function(b2){return b2.setRequestHeader("crossDomain","");},crossDomain:true,success:function(b2){bX("#inputText").val(b2);return b1.Set({$:1,$0:b2});}}).done(function(){return bY.log("Done");});}),A.Element("br",[],[]),A.Element("textarea",[S.Create("id","inputText"),S.Create("style","height:100px")],[]),A.Element("br",[],[]),A.BindView(function(b2){return b2!=null&&b2.$==1?A.Concat([A.Button("Solve it!",[],function(){var b3;b3=a.String(bX("#inputText").val());bY.log("input data",b3);c.Solve(b3);}),A.Element("br",[],[]),A.Element("label",[],[A.TextNode("Solution")]),A.Element("input",[S.Create("id","solved")],[])]):A.get_Empty();},b1.get_View())]));};v.NewGuid=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(new a.RegExp("[xy]","g"),function(b1){var b2,b3;b2=bZ.random()*16|0;b3=b1=="x"?b2:b2&3|8;return b3.toString(16);});};x=w.List=bW.Class({GetEnumerator:function(){return Y.Get(this);},GetEnumerator0:function(){return Y.Get0(this);}},null,x);z.LoadLocalTemplates=function(b1){!z.LocalTemplatesLoaded()?(z.set_LocalTemplatesLoaded(true),z.LoadNestedTemplates(self.document.body,"")):void 0;z.LoadedTemplates().set_Item(b1,z.LoadedTemplateFile(""));};z.NamedTemplate=function(b1,b2,b3){var b4,b5;b4=(b5=null,[z.LoadedTemplateFile(b1).TryGetValue(b2==null?"":b2.$0,{get:function(){return b5;},set:function(b6){b5=b6;}}),b5]);return b4[0]?z.ChildrenTemplate(b4[1].cloneNode(true),b3):(bY.warn("Local template doesn't exist",b2),A.get_Empty());};z.LocalTemplatesLoaded=function(){_0.$cctor();return _0.LocalTemplatesLoaded;};z.set_LocalTemplatesLoaded=function(b1){_0.$cctor();_0.LocalTemplatesLoaded=b1;};z.LoadNestedTemplates=function(b1,b2){var b4,b5,b6,b7,b8,b9,b_,b$,ca,cb,cc,cd,ce;function b3(cf){var cg,ch;if(!b4.ContainsKey(cf)){cg=(ch=null,[b5.TryGetValue(cf,{get:function(){return ch;},set:function(ci){ch=ci;}}),ch]);cg[0]?(ce.Add(cf),b5.Remove(cf),z.PrepareTemplateStrict(b2,{$:1,$0:cf},cg[1],{$:1,$0:b3})):bY.warn(ce.Contains(cf)?"Encountered loop when instantiating "+cf:"Local template does not exist: "+cf);}}b4=z.LoadedTemplateFile(b2);b5=new F.New$5();b6=b1.querySelectorAll("[ws-template]");for(b7=0,b8=b6.length-1;b7<=b8;b7++){b9=b6[b7];b_=b9.getAttribute("ws-template").toLowerCase();b9.removeAttribute("ws-template");b5.set_Item(b_,z.FakeRootSingle(b9));}b$=b1.querySelectorAll("[ws-children-template]");for(ca=0,cb=b$.length-1;ca<=cb;ca++){cc=b$[ca];cd=cc.getAttribute("ws-children-template").toLowerCase();cc.removeAttribute("ws-children-template");b5.set_Item(cd,z.FakeRoot(cc));}ce=new I.New$3();while(b5.count>0)b3(J.head(b5.get_Keys()));};z.LoadedTemplates=function(){_0.$cctor();return _0.LoadedTemplates;};z.LoadedTemplateFile=function(b1){var b2,b3,b4;b2=(b3=null,[z.LoadedTemplates().TryGetValue(b1,{get:function(){return b3;},set:function(b5){b3=b5;}}),b3]);return b2[0]?b2[1]:(b4=new F.New$5(),(z.LoadedTemplates().set_Item(b1,b4),b4));};z.ChildrenTemplate=function(b1,b2){var b3,b4,b5,b6,b7;b3=z.InlineTemplate(b1,J.append(b2,z.GlobalHoles().get_Values()));b4=b3[1];b5=b3[0];b6=b5.Els;return!n.Equals(b6,null)&&b6.length===1&&(l.get(b6,0)instanceof M&&(n.Equals(l.get(b6,0).nodeType,M.ELEMENT_NODE)&&(b7=l.get(b6,0),true)))?ba.TreeNode(b5,b4):A.Mk({$:6,$0:b5},b4);};z.FakeRootSingle=function(b1){var b2,b3,b4,b5;b1.removeAttribute("ws-template");b2=b1.getAttribute("ws-replace");b2===null?void 0:(b1.removeAttribute("ws-replace"),b3=b1.parentNode,n.Equals(b3,null)?void 0:(b4=self.document.createElement(b1.tagName),b4.setAttribute("ws-replace",b2),b3.replaceChild(b4,b1)));b5=self.document.createElement("div");b5.appendChild(b1);return b5;};z.FakeRoot=function(b1){var b2;b2=self.document.createElement("div");while(b1.hasChildNodes())b2.appendChild(b1.firstChild);return b2;};z.PrepareTemplateStrict=function(b1,b2,b3,b4){var b5;function b6(b$,ca){var cb,cc,cd,ce,cf,ch,ci,cj,ck,cl,cm,cn,co,cp,cq,cr,cs,ct,cu,cv,cw,cx,cy,cz,cA,cB;function cg(cC){}while(true)switch(b$){case 0:if(ca!==null){cb=ca.nextSibling;if(n.Equals(ca.nodeType,M.TEXT_NODE))bb.convertTextNode(ca);else if(n.Equals(ca.nodeType,M.ELEMENT_NODE))b8(ca);ca=cb;}else return null;break;case 1:ch=bc.string(ca.nodeName,{$:1,$0:3},null).toLowerCase();ci=(cc=ch.indexOf("."),cc===-1?[b1,ch]:[bc.string(ch,null,{$:1,$0:cc-1}),bc.string(ch,{$:1,$0:cc+1},null)]);cj=ci[1];ck=ci[0];if(ck!==""&&!z.LoadedTemplates().ContainsKey(ck))return bb.failNotLoaded(cj);else{if(ck===""&&b4!=null)b4.$0(cj);cl=z.LoadedTemplates().get_Item(ck);if(!cl.ContainsKey(cj))return bb.failNotLoaded(cj);else{cm=cl.get_Item(cj);cn=cm.cloneNode(true);co=new I.New$3();cp=new F.New$5();cq=ca.attributes;for(cr=0,cs=cq.length-1;cr<=cs;cr++){ct=cq.item(cr).name.toLowerCase();cp.set_Item(ct,(cu=cq.item(cr).nodeValue,cu===""?ct:cu.toLowerCase()));!co.Add(ct)?bY.warn("Hole mapped twice",ct):void 0;}for(cv=0,cw=ca.childNodes.length-1;cv<=cw;cv++){cx=ca.childNodes[cv];n.Equals(cx.nodeType,M.ELEMENT_NODE)?!co.Add(cx.nodeName.toLowerCase())?bY.warn("Hole filled twice",cj):void 0:void 0;}cy=ca.childNodes.length===1&&n.Equals(ca.firstChild.nodeType,M.TEXT_NODE);if(cy){ce=bb.fillTextHole(cn,ca.firstChild.textContent,cj);((function(cC){return function(cD){if(cD!=null)cC(cD.$0);};}((cf=function(cC){return function(cD){return cC.Add(cD);};}(co),function(cC){return cg(cf(cC));})))(ce));}bb.removeHolesExcept(cn,co);if(!cy){for(cz=0,cA=ca.childNodes.length-1;cz<=cA;cz++){cB=ca.childNodes[cz];n.Equals(cB.nodeType,M.ELEMENT_NODE)?cB.hasAttributes()?bb.fillInstanceAttrs(cn,cB):b7(cn,cB):void 0;}}bb.mapHoles(cn,cp);bb.fill(cn,ca.parentNode,ca);ca.parentNode.removeChild(ca);return;}}break;}}function b7(b$,ca){var cb,cd,ce;function cc(cf,cg){var ch;if(cd==="title"&&ca.hasChildNodes()){ch=_6.ParseHTMLIntoFakeRoot(ca.textContent);ca.removeChild(ca.firstChild);while(ch.hasChildNodes())ca.appendChild(ch.firstChild);}else null;b8(ca);return bb.fill(ca,cf,cg);}cd=ca.nodeName.toLowerCase();z.foreachNotPreserved(b$,"[ws-attr-holes]",function(cf){var cg,ch,ci,cj,ck;cg=bm.SplitChars(cf.getAttribute("ws-attr-holes"),[" "],1);for(ch=0,ci=cg.length-1;ch<=ci;ch++){cj=l.get(cg,ch);cf.setAttribute(cj,(ck=new a.RegExp("\\${"+cd+"}","ig"),cf.getAttribute(cj).replace(ck,ca.textContent)));}});ce=b$.querySelector("[ws-hole="+cd+"]");if(n.Equals(ce,null)){cb=b$.querySelector("[ws-replace="+cd+"]");return n.Equals(cb,null)?null:(cc(cb.parentNode,cb),void cb.parentNode.removeChild(cb));}else{while(ce.hasChildNodes())ce.removeChild(ce.lastChild);ce.removeAttribute("ws-hole");return cc(ce,null);}}function b8(b$){if(!b$.hasAttribute("ws-preserve"))if(bm.StartsWith(b$.nodeName.toLowerCase(),"ws-"))b_(b$);else{bb.convertAttrs(b$);b9(b$.firstChild);}}function b9(b$){return b6(0,b$);}function b_(b$){return b6(1,b$);}b5=(b2==null?"":b2.$0).toLowerCase();z.LoadedTemplateFile(b1).set_Item(b5,b3);b3.hasChildNodes()?(function(b$){var ca,cb,cc,cd;while(true){ca=b$.querySelector("[ws-template]");if(n.Equals(ca,null)){cb=b$.querySelector("[ws-children-template]");if(n.Equals(cb,null))return null;else{cc=cb.getAttribute("ws-children-template");cb.removeAttribute("ws-children-template");z.PrepareTemplateStrict(b1,{$:1,$0:cc},cb,null);b$=b$;}}else{cd=ca.getAttribute("ws-template");(z.PrepareSingleTemplate(b1,{$:1,$0:cd},ca))(null);b$=b$;}}}(b3),b9(b3.firstChild)):void 0;};z.InlineTemplate=function(b1,b2){var b3,b4,b5,b6,b9,b_,b$,ca,cb,cc,cd;function b7(ce,cf){var cg,ch,ci;cg=_7.Insert(ce,cf);b_.push(_7.Updates(cg));b$.push([ce,cg]);ch=bW.GetOptional(cg.OnAfterRender);return ch==null?null:(ci=ch.$0,void ca.push(function(){ci(ce);}));}function b8(ce){var cf,cg;cf=(cg=null,[cb.TryGetValue(ce,{get:function(){return cg;},set:function(ch){cg=ch;}}),cg]);return cf[0]?cf[1].$==0?{$:1,$0:cf[1].$1}:cf[1].$==1?{$:1,$0:A.TextNode(cf[1].$1)}:cf[1].$==2?{$:1,$0:A.TextView(cf[1].$1)}:cf[1].$==8?{$:1,$0:A.TextView(cf[1].$1.get_View())}:cf[1].$==9?{$:1,$0:A.TextView(Q.Map(a.String,cf[1].$1.get_View()))}:cf[1].$==10?{$:1,$0:A.TextView(Q.Map(function(ch){return ch.get_Input();},cf[1].$1.get_View()))}:cf[1].$==11?{$:1,$0:A.TextView(Q.Map(a.String,cf[1].$1.get_View()))}:cf[1].$==12?{$:1,$0:A.TextView(Q.Map(function(ch){return ch.get_Input();},cf[1].$1.get_View()))}:cf[1].$==13?{$:1,$0:A.TextView(Q.Map(a.String,cf[1].$1.get_View()))}:(bY.warn("Content hole filled with attribute data",ce),null):null;}b9=[];b_=[];b$=[];ca=[];cb=new F.New$5();cc=Y.Get(b2);try{while(cc.MoveNext()){cd=cc.Current();cb.set_Item(cd.$0,cd);}}finally{if(typeof cc=="object"&&"Dispose"in cc)cc.Dispose();}b3=_6.ChildrenArray(b1);z.foreachNotPreserved(b1,"[ws-hole]",function(ce){var cf,cg,ch;ch=ce.getAttribute("ws-hole");ce.removeAttribute("ws-hole");while(ce.hasChildNodes())ce.removeChild(ce.lastChild);cf=b8(ch);cf!=null&&cf.$==1?(cg=cf.$0,_2.LinkElement(ce,cg.docNode),b9.push(_3.New(_7.Empty(ce),cg.docNode,null,ce,P.Int(),null)),b_.push(cg.updates)):void 0;});z.foreachNotPreserved(b1,"[ws-replace]",function(ce){var cf,cg,ch,ci,cj,ck;cf=b8(ce.getAttribute("ws-replace"));cf!=null&&cf.$==1?(cg=cf.$0,ch=ce.parentNode,ci=self.document.createTextNode(""),ch.replaceChild(ci,ce),cj=_2.InsertBeforeDelim(ci,cg.docNode),ck=l.tryFindIndex(function(cl){return ce===cl;},b3),ck==null?void 0:l.set(b3,ck.$0,cg.docNode),b9.push(_3.New(_7.Empty(ch),cg.docNode,{$:1,$0:[cj,ci]},ch,P.Int(),null)),b_.push(cg.updates)):void 0;});z.foreachNotPreserved(b1,"[ws-attr]",function(ce){var cf,cg,ch;cf=ce.getAttribute("ws-attr");ce.removeAttribute("ws-attr");cg=(ch=null,[cb.TryGetValue(cf,{get:function(){return ch;},set:function(ci){ch=ci;}}),ch]);cg[0]?cg[1].$==3?b7(ce,cg[1].$1):bY.warn("Attribute hole filled with non-attribute data",cf):void 0;});z.foreachNotPreserved(b1,"[ws-on]",function(ce){b7(ce,S.Concat(l.choose(function(cf){var cg,ch,ci;cg=bm.SplitChars(cf,[":"],1);ch=(ci=null,[cb.TryGetValue(l.get(cg,1),{get:function(){return ci;},set:function(cj){ci=cj;}}),ci]);return ch[0]?ch[1].$==4?{$:1,$0:bl.Handler(l.get(cg,0),ch[1].$1)}:ch[1].$==5?{$:1,$0:S.Handler(l.get(cg,0),ch[1].$1)}:(bY.warn("Event hole on"+l.get(cg,0)+" filled with non-event data",l.get(cg,1)),null):null;},bm.SplitChars(ce.getAttribute("ws-on"),[" "],1))));ce.removeAttribute("ws-on");});z.foreachNotPreserved(b1,"[ws-onafterrender]",function(ce){var cf,cg,ch;cf=ce.getAttribute("ws-onafterrender");cg=(ch=null,[cb.TryGetValue(cf,{get:function(){return ch;},set:function(ci){ch=ci;}}),ch]);cg[0]?cg[1].$==6?(ce.removeAttribute("ws-onafterrender"),b7(ce,bl.OnAfterRender(cg[1].$1))):cg[1].$==7?(ce.removeAttribute("ws-onafterrender"),b7(ce,bl.OnAfterRender(cg[1].$1))):bY.warn("onafterrender hole filled with non-onafterrender data",cf):void 0;});z.foreachNotPreserved(b1,"[ws-var]",function(ce){var cf,cg,ch;cf=ce.getAttribute("ws-var");ce.removeAttribute("ws-var");cg=(ch=null,[cb.TryGetValue(cf,{get:function(){return ch;},set:function(ci){ch=ci;}}),ch]);cg[0]?cg[1].$==8?b7(ce,bl.Value(cg[1].$1)):cg[1].$==9?b7(ce,bl.Checked(cg[1].$1)):cg[1].$==10?b7(ce,bl.IntValue(cg[1].$1)):cg[1].$==11?b7(ce,bl.IntValueUnchecked(cg[1].$1)):cg[1].$==12?b7(ce,bl.FloatValue(cg[1].$1)):cg[1].$==13?b7(ce,bl.FloatValueUnchecked(cg[1].$1)):bY.warn("Var hole filled with non-Var data",cf):void 0;});z.foreachNotPreserved(b1,"[ws-attr-holes]",function(ce){var cf,cg,ch,ci;cf=new a.RegExp(z.TextHoleRE(),"g");cg=bm.SplitChars(ce.getAttribute("ws-attr-holes"),[" "],1);ce.removeAttribute("ws-attr-holes");for(ch=0,ci=cg.length-1;ch<=ci;ch++)(function(){var cj,ck,cl,cm,cn,co,cp,cq,cr,cs,ct,cu,cv;cs=l.get(cg,ch);ct=ce.getAttribute(cs);cj=null;ck=0;cu=[];while(cj=cf.exec(ct),cj!==null){cv=bc.string(ct,{$:1,$0:ck},{$:1,$0:cf.lastIndex-l.get(cj,0).length-1});ck=cf.lastIndex;cu.push([cv,l.get(cj,1)]);}cm=bc.string(ct,{$:1,$0:ck},null);cf.lastIndex=0;cn=l.foldBack(function(cw,cx){return(function(cy){var cz,cA;cz=cy[0];cA=cy[1];return function(cB){var cC,cD,cE,cF,cG;cC=cB[0];cD=cB[1];cE=(cF=(cG=null,[cb.TryGetValue(cA,{get:function(){return cG;},set:function(cH){cG=cH;}}),cG]),cF[0]?cF[1].$==1?{$:0,$0:cF[1].$1}:cF[1].$==2?{$:1,$0:cF[1].$1}:cF[1].$==8?{$:1,$0:cF[1].$1.get_View()}:cF[1].$==9?{$:1,$0:Q.Map(a.String,cF[1].$1.get_View())}:cF[1].$==10?{$:1,$0:Q.Map(function(cH){return cH.get_Input();},cF[1].$1.get_View())}:cF[1].$==11?{$:1,$0:Q.Map(a.String,cF[1].$1.get_View())}:cF[1].$==12?{$:1,$0:Q.Map(function(cH){return cH.get_Input();},cF[1].$1.get_View())}:cF[1].$==13?{$:1,$0:Q.Map(a.String,cF[1].$1.get_View())}:(bY.warn("Attribute value hole filled with non-text data",cA),{$:0,$0:""}):{$:0,$0:""});return cE.$==1?[cz,new _9({$:1,$0:cC===""?cE.$0:Q.Map(function(cH){return cH+cC;},cE.$0),$1:cD})]:[cz+cE.$0+cC,cD];};}(cw))(cx);},cu,[cm,_9.Empty]);return b7(ce,cn[1].$==1?cn[1].$1.$==1?cn[1].$1.$1.$==1?cn[1].$1.$1.$1.$==0?(co=cn[0],bl.Dynamic(cs,Q.Map3(function(cw,cx,cy){return co+cw+cx+cy;},cn[1].$0,cn[1].$1.$0,cn[1].$1.$1.$0))):(cp=cn[0],bl.Dynamic(cs,Q.Map(function(cw){return cp+bm.concat("",cw);},Q.Sequence(cn[1])))):(cq=cn[0],bl.Dynamic(cs,Q.Map2(function(cw,cx){return cq+cw+cx;},cn[1].$0,cn[1].$1.$0))):cn[0]===""?bl.Dynamic(cs,cn[1].$0):(cr=cn[0],bl.Dynamic(cs,Q.Map(function(cw){return cr+cw;},cn[1].$0))):S.Create(cs,cn[0]));}());});return[bW.DeleteEmptyFields({Els:b3,Dirty:true,Holes:b9,Attrs:b$,Render:(b4=ca.length==0?null:{$:1,$0:function(ce){l.iter(function(cf){cf(ce);},ca);}},b4?b4.$0:void 0),El:(b5=!n.Equals(b3,null)&&b3.length===1&&(l.get(b3,0)instanceof M&&(l.get(b3,0)instanceof a.Element&&(b6=l.get(b3,0),true)))?{$:1,$0:b6}:null,b5?b5.$0:void 0)},["Render","El"]),V.TreeReduce(Q.Const(),Q.Map2Unit,b_)];};z.GlobalHoles=function(){_0.$cctor();return _0.GlobalHoles;};z.foreachNotPreserved=function(b1,b2,b3){_6.IterSelector(b1,b2,function(b4){if(b4.closest("[ws-preserve]")==null)b3(b4);});};z.PrepareSingleTemplate=function(b1,b2,b3){var b4;b4=z.FakeRootSingle(b3);return function(b5){z.PrepareTemplateStrict(b1,b2,b4,b5);};};z.TextHoleRE=function(){_0.$cctor();return _0.TextHoleRE;};A=g.Doc=bW.Class({},f,A);A.RunById=function(b1,b2){var b3;b3=self.document.getElementById(b1);n.Equals(b3,null)?e.FailWith("invalid id: "+b1):A.Run(b3,b2);};A.Concat=function(b1){var b2;b2=V.ofSeqNonCopying(b1);return V.TreeReduce(A.get_Empty(),A.Append,b2);};A.get_Empty=function(){return A.Mk(null,Q.Const());};A.Run=function(b1,b2){_2.LinkElement(b1,b2.docNode);A.RunInPlace(false,b1,b2);};A.Convert=function(b1,b2){return A.Flatten(Q.MapSeqCached(b1,b2));};A.TextNode=function(b1){return A.Mk({$:5,$0:self.document.createTextNode(b1)},Q.Const());};A.Button=function(b1,b2,b3){var b4;b4=S.Concat(b2);return ba.New(A.Clickable("button",b3),b4,A.TextNode(b1));};A.BindView=function(b1,b2){return A.EmbedView(Q.Map(b1,b2));};A.Append=function(b1,b2){return A.Mk({$:0,$0:b1.docNode,$1:b2.docNode},Q.Map2Unit(b1.updates,b2.updates));};A.Mk=function(b1,b2){return new A.New(b1,b2);};A.RunInPlace=function(b1,b2,b3){var b4;b4=_2.CreateRunState(b2,b3.docNode);Q.Sink(be.get_UseAnimations()||bf.BatchUpdatesEnabled()?bg.StartProcessor(_2.PerformAnimatedUpdate(b1,b4,b3.docNode)):function(){_2.PerformSyncUpdate(b1,b4,b3.docNode);},b3.updates);};A.Flatten=function(b1){return A.EmbedView(Q.Map(A.Concat,b1));};A.Element=function(b1,b2,b3){var b4,b5;b4=S.Concat(b2);b5=A.Concat(b3);return ba.New(self.document.createElement(b1),b4,b5);};A.Clickable=function(b1,b2){var b3;b3=self.document.createElement(b1);b3.addEventListener("click",function(b4){b4.preventDefault();return b2();},false);return b3;};A.EmbedView=function(b1){var b2;b2=_2.CreateEmbedNode();return A.Mk({$:2,$0:b2},Q.Map(a.ignore,Q.Bind(function(b3){_2.UpdateEmbedNode(b2,b3.docNode);return b3.updates;},b1)));};A.TextView=function(b1){var b2;b2=_2.CreateTextNode();return A.Mk({$:4,$0:b2},Q.Map(function(b3){_2.UpdateTextNode(b2,b3);},b1));};A.New=bW.Ctor(function(b1,b2){f.New.call(this);this.docNode=b1;this.updates=b2;},A);C.NewFromSeq=function(b1){var b2,b3,b4;b2={};b3=Y.Get(b1);try{while(b3.MoveNext()){b4=b3.Current();b2[b4[0]]=b4[1];}}finally{if(typeof b3=="object"&&"Dispose"in b3)b3.Dispose();}return b2;};D=g.ConcreteVar=bW.Class({Get:function(){return this.current;},Set:function(b1){if(this.isConst)(function(b2){return b2("WebSharper.UI: invalid attempt to change value of a Var after calling SetFinal");}(function(b2){bY.log(b2);}));else{E.Obsolete(this.snap);this.current=b1;this.snap=E.New({$:2,$0:b1,$1:[]});}},get_View:function(){return this.view;},UpdateMaybe:function(b1){var b2;b2=b1(this.Get());b2!=null&&b2.$==1?this.Set(b2.$0):void 0;}},s,D);D.New=bW.Ctor(function(b1,b2,b3){var b4;b4=this;s.New.call(this);this.isConst=b1;this.current=b3;this.snap=b2;this.view=function(){return b4.snap;};this.id=P.Int();},D);E.Map=function(b1,b2){var b3,b4;b3=b2.s;return b3!=null&&b3.$==0?E.New({$:0,$0:b1(b3.$0)}):(b4=E.New({$:3,$0:[],$1:[]}),(E.When(b2,function(b5){E.MarkDone(b4,b2,b1(b5));},b4),b4));};E.Map2Unit=function(b1,b2){var b3,b4,b5;function b6(){var b7,b8,b9;if(!(b7=b5.s,b7!=null&&b7.$==0||b7!=null&&b7.$==2)){b8=E.ValueAndForever(b1);b9=E.ValueAndForever(b2);b8!=null&&b8.$==1?b9!=null&&b9.$==1?b8.$0[1]&&b9.$0[1]?E.MarkForever(b5,null):E.MarkReady(b5,null):void 0:void 0;}}b3=b1.s;b4=b2.s;return b3!=null&&b3.$==0?b4!=null&&b4.$==0?E.New({$:0,$0:null}):b2:b4!=null&&b4.$==0?b1:(b5=E.New({$:3,$0:[],$1:[]}),(E.When(b1,b6,b5),E.When(b2,b6,b5),b5));};E.WhenRun=function(b1,b2,b3){var b4;b4=b1.s;b4==null?b3():b4!=null&&b4.$==2?(b4.$1.push(b3),b2(b4.$0)):b4!=null&&b4.$==3?(b4.$0.push(b2),b4.$1.push(b3)):b2(b4.$0);};E.WhenObsoleteRun=function(b1,b2){var b3;b3=b1.s;b3==null?b2():b3!=null&&b3.$==2?b3.$1.push(b2):b3!=null&&b3.$==3?b3.$1.push(b2):void 0;};E.When=function(b1,b2,b3){var b4;b4=b1.s;b4==null?E.Obsolete(b3):b4!=null&&b4.$==2?(E.EnqueueSafe(b4.$1,b3),b2(b4.$0)):b4!=null&&b4.$==3?(b4.$0.push(b2),E.EnqueueSafe(b4.$1,b3)):b2(b4.$0);};E.MarkDone=function(b1,b2,b3){var b4;if(b4=b2.s,b4!=null&&b4.$==0)E.MarkForever(b1,b3);else E.MarkReady(b1,b3);};E.ValueAndForever=function(b1){var b2;b2=b1.s;return b2!=null&&b2.$==0?{$:1,$0:[b2.$0,true]}:b2!=null&&b2.$==2?{$:1,$0:[b2.$0,false]}:null;};E.MarkForever=function(b1,b2){var b3,b4,b5,b6;b3=b1.s;if(b3!=null&&b3.$==3){b1.s={$:0,$0:b2};b4=b3.$0;for(b5=0,b6=l.length(b4)-1;b5<=b6;b5++)(l.get(b4,b5))(b2);}else void 0;};E.MarkReady=function(b1,b2){var b3,b4,b5,b6;b3=b1.s;if(b3!=null&&b3.$==3){b1.s={$:2,$0:b2,$1:b3.$1};b4=b3.$0;for(b5=0,b6=l.length(b4)-1;b5<=b6;b5++)(l.get(b4,b5))(b2);}else void 0;};E.Map3=function(b1,b2,b3,b4){var b5,b6,b7,b8;function b9(b_){var b$,ca,cb,cc;if(!(b$=b8.s,b$!=null&&b$.$==0||b$!=null&&b$.$==2)){ca=E.ValueAndForever(b2);cb=E.ValueAndForever(b3);cc=E.ValueAndForever(b4);ca!=null&&ca.$==1?cb!=null&&cb.$==1?cc!=null&&cc.$==1?ca.$0[1]&&cb.$0[1]&&cc.$0[1]?E.MarkForever(b8,b1(ca.$0[0],cb.$0[0],cc.$0[0])):E.MarkReady(b8,b1(ca.$0[0],cb.$0[0],cc.$0[0])):void 0:void 0:void 0;}}b5=b2.s;b6=b3.s;b7=b4.s;return b5!=null&&b5.$==0?b6!=null&&b6.$==0?b7!=null&&b7.$==0?E.New({$:0,$0:b1(b5.$0,b6.$0,b7.$0)}):E.Map3Opt1(b1,b5.$0,b6.$0,b4):b7!=null&&b7.$==0?E.Map3Opt2(b1,b5.$0,b7.$0,b3):E.Map3Opt3(b1,b5.$0,b3,b4):b6!=null&&b6.$==0?b7!=null&&b7.$==0?E.Map3Opt4(b1,b6.$0,b7.$0,b2):E.Map3Opt5(b1,b6.$0,b2,b4):b7!=null&&b7.$==0?E.Map3Opt6(b1,b7.$0,b2,b3):(b8=E.New({$:3,$0:[],$1:[]}),(E.When(b2,b9,b8),E.When(b3,b9,b8),E.When(b4,b9,b8),b8));};E.Sequence=function(b1){var b2,b3,b4;function b5(b6){var b7;if(b4[0]===0){b7=l.map(function(b8){var b9;b9=b8.s;return b9!=null&&b9.$==0?b9.$0:b9!=null&&b9.$==2?b9.$0:e.FailWith("value not found by View.Sequence");},b2);l.forall(function(b8){var b9;b9=b8.s;return b9!=null&&b9.$==0;},b2)?E.MarkForever(b3,b7):E.MarkReady(b3,b7);}else b4[0]--;}b2=l.ofSeq(b1);return b2.length==0?E.New({$:0,$0:[]}):(b3=E.New({$:3,$0:[],$1:[]}),(b4=[l.length(b2)-1],(l.iter(function(b6){E.When(b6,b5,b3);},b2),b3)));};E.Map2=function(b1,b2,b3){var b4,b5,b6;function b7(b8){var b9,b_,b$;if(!(b9=b6.s,b9!=null&&b9.$==0||b9!=null&&b9.$==2)){b_=E.ValueAndForever(b2);b$=E.ValueAndForever(b3);b_!=null&&b_.$==1?b$!=null&&b$.$==1?b_.$0[1]&&b$.$0[1]?E.MarkForever(b6,b1(b_.$0[0],b$.$0[0])):E.MarkReady(b6,b1(b_.$0[0],b$.$0[0])):void 0:void 0;}}b4=b2.s;b5=b3.s;return b4!=null&&b4.$==0?b5!=null&&b5.$==0?E.New({$:0,$0:b1(b4.$0,b5.$0)}):E.Map2Opt1(b1,b4.$0,b3):b5!=null&&b5.$==0?E.Map2Opt2(b1,b5.$0,b2):(b6=E.New({$:3,$0:[],$1:[]}),(E.When(b2,b7,b6),E.When(b3,b7,b6),b6));};E.Copy=function(b1){var b2,b3,b4;b2=b1.s;return b2==null?b1:b2!=null&&b2.$==2?(b3=E.New({$:2,$0:b2.$0,$1:[]}),(E.WhenObsolete(b1,b3),b3)):b2!=null&&b2.$==3?(b4=E.New({$:3,$0:[],$1:[]}),(E.When(b1,function(b5){E.MarkDone(b4,b1,b5);},b4),b4)):b1;};E.Join=function(b1){var b2;b2=E.New({$:3,$0:[],$1:[]});E.When(b1,function(b3){var b4;b4=b3();E.When(b4,function(b5){var b6,b7;if((b6=b4.s,b6!=null&&b6.$==0)&&(b7=b1.s,b7!=null&&b7.$==0))E.MarkForever(b2,b5);else E.MarkReady(b2,b5);},b2);},b2);return b2;};E.EnqueueSafe=function(b1,b2){var b3,b4,b5,b6;b1.push(b2);if(b1.length%20===0){b3=b1.slice(0);bP.Clear(b1);for(b4=0,b5=l.length(b3)-1;b4<=b5;b4++){b6=l.get(b3,b4);typeof b6=="object"?function(b7){if(b7.s)b1.push(b7);}(b6):function(b7){b1.push(b7);}(b6);}}else void 0;};E.Map3Opt1=function(b1,b2,b3,b4){return E.Map(function(b5){return b1(b2,b3,b5);},b4);};E.Map3Opt2=function(b1,b2,b3,b4){return E.Map(function(b5){return b1(b2,b5,b3);},b4);};E.Map3Opt3=function(b1,b2,b3,b4){return E.Map2(function(b5,b6){return b1(b2,b5,b6);},b3,b4);};E.Map3Opt4=function(b1,b2,b3,b4){return E.Map(function(b5){return b1(b5,b2,b3);},b4);};E.Map3Opt5=function(b1,b2,b3,b4){return E.Map2(function(b5,b6){return b1(b5,b2,b6);},b3,b4);};E.Map3Opt6=function(b1,b2,b3,b4){return E.Map2(function(b5,b6){return b1(b5,b6,b2);},b3,b4);};E.Map2Opt1=function(b1,b2,b3){return E.Map(function(b4){return b1(b2,b4);},b3);};E.Map2Opt2=function(b1,b2,b3){return E.Map(function(b4){return b1(b4,b2);},b3);};E.WhenObsolete=function(b1,b2){var b3;b3=b1.s;b3==null?E.Obsolete(b2):b3!=null&&b3.$==2?E.EnqueueSafe(b3.$1,b2):b3!=null&&b3.$==3?E.EnqueueSafe(b3.$1,b2):void 0;};F=w.Dictionary=bW.Class({set_Item:function(b1,b2){this.set(b1,b2);},set:function(b1,b2){var b3,b4,b5,b6;b3=this;b4=this.hash(b1);b5=this.data[b4];b5==null?(this.count=this.count+1,this.data[b4]=new a.Array({K:b1,V:b2})):(b6=l.tryFindIndex(function(b7){return b3.equals.apply(null,[(e.KeyValue(b7))[0],b1]);},b5),b6==null?(this.count=this.count+1,b5.push({K:b1,V:b2})):b5[b6.$0]={K:b1,V:b2});},TryGetValue:function(b1,b2){var b3,b4,b5;b3=this;b4=this.data[this.hash(b1)];return b4==null?false:(b5=l.tryPick(function(b6){var b7;b7=e.KeyValue(b6);return b3.equals.apply(null,[b7[0],b1])?{$:1,$0:b7[1]}:null;},b4),b5!=null&&b5.$==1&&(b2.set(b5.$0),true));},ContainsKey:function(b1){var b2,b3;b2=this;b3=this.data[this.hash(b1)];return b3==null?false:l.exists(function(b4){return b2.equals.apply(null,[(e.KeyValue(b4))[0],b1]);},b3);},Remove:function(b1){return this.remove(b1);},get_Keys:function(){return new bd.New(this);},get_Values:function(){return new bo.New(this);},remove:function(b1){var b2,b3,b4,b5;b2=this;b3=this.hash(b1);b4=this.data[b3];return b4==null?false:(b5=l.filter(function(b6){return!b2.equals.apply(null,[(e.KeyValue(b6))[0],b1]);},b4),l.length(b5)<b4.length&&(this.count=this.count-1,this.data[b3]=b5,true));},get_Item:function(b1){return this.get(b1);},get:function(b1){var b2,b3;b2=this;b3=this.data[this.hash(b1)];return b3==null?X.notPresent():l.pick(function(b4){var b5;b5=e.KeyValue(b4);return b2.equals.apply(null,[b5[0],b1])?{$:1,$0:b5[1]}:null;},b3);},GetEnumerator:function(){return Y.Get0(this);},GetEnumerator0:function(){return Y.Get0(l.concat(N.GetFieldValues(this.data)));}},f,F);F.New$5=bW.Ctor(function(){F.New$6.call(this,[],n.Equals,n.Hash);},F);F.New$6=bW.Ctor(function(b1,b2,b3){var b4,b5;f.New.call(this);this.equals=b2;this.hash=b3;this.count=0;this.data=[];b4=Y.Get(b1);try{while(b4.MoveNext()){b5=b4.Current();this.set(b5.K,b5.V);}}finally{if(typeof b4=="object"&&"Dispose"in b4)b4.Dispose();}},F);q.FromSeq=function(b1){return q.Create(a.id,b1);};q.Create=function(b1,b2){return q.CreateWithStorage(b1,_5.InMemory(l.ofSeq(b2)));};q.CreateWithStorage=function(b1,b2){return new q.New(b1,b2);};H=G.attr=bW.Class({},f,H);I=w.HashSet=bW.Class({Add:function(b1){return this.add(b1);},Contains:function(b1){var b2;b2=this.data[this.hash(b1)];return b2==null?false:this.arrContains(b1,b2);},add:function(b1){var b2,b3;b2=this.hash(b1);b3=this.data[b2];return b3==null?(this.data[b2]=[b1],this.count=this.count+1,true):this.arrContains(b1,b3)?false:(b3.push(b1),this.count=this.count+1,true);},arrContains:function(b1,b2){var b3,b4,b5,b6;b3=true;b4=0;b6=b2.length;while(b3&&b4<b6)if(this.equals.apply(null,[b2[b4],b1]))b3=false;else b4=b4+1;return!b3;},ExceptWith:function(b1){var b2;b2=Y.Get(b1);try{while(b2.MoveNext())this.Remove(b2.Current());}finally{if(typeof b2=="object"&&"Dispose"in b2)b2.Dispose();}},get_Count:function(){return this.count;},CopyTo:function(b1){var b2,b3,b4,b5;b2=0;b3=bv.concat(this.data);for(b4=0,b5=b3.length-1;b4<=b5;b4++)l.set(b1,b4,b3[b4]);},IntersectWith:function(b1){var b2,b3,b4,b5,b6;b2=new I.New$4(b1,this.equals,this.hash);b3=bv.concat(this.data);for(b4=0,b5=b3.length-1;b4<=b5;b4++){b6=b3[b4];!b2.Contains(b6)?this.Remove(b6):void 0;}},Remove:function(b1){var b2;b2=this.data[this.hash(b1)];return b2==null?false:this.arrRemove(b1,b2)&&(this.count=this.count-1,true);},arrRemove:function(b1,b2){var b3,b4,b5,b6;b3=true;b4=0;b6=b2.length;while(b3&&b4<b6)if(this.equals.apply(null,[b2[b4],b1])){b2.splice.apply(b2,[b4,1]);b3=false;}else b4=b4+1;return!b3;},GetEnumerator:function(){return Y.Get(bv.concat(this.data));},GetEnumerator0:function(){return Y.Get(bv.concat(this.data));}},f,I);I.New$3=bW.Ctor(function(){I.New$4.call(this,[],n.Equals,n.Hash);},I);I.New$4=bW.Ctor(function(b1,b2,b3){var b4;f.New.call(this);this.equals=b2;this.hash=b3;this.data=[];this.count=0;b4=Y.Get(b1);try{while(b4.MoveNext())this.add(b4.Current());}finally{if(typeof b4=="object"&&"Dispose"in b4)b4.Dispose();}},I);I.New$2=bW.Ctor(function(b1){I.New$4.call(this,b1,n.Equals,n.Hash);},I);J.append=function(b1,b2){return{GetEnumerator:function(){var b3,b4;b3=Y.Get(b1);b4=[true];return new Z.New(b3,null,function(b5){var b6;return b5.s.MoveNext()?(b5.c=b5.s.Current(),true):(b6=b5.s,!n.Equals(b6,null)?b6.Dispose():void 0,b5.s=null,b4[0]&&(b4[0]=false,b5.s=Y.Get(b2),b5.s.MoveNext()?(b5.c=b5.s.Current(),true):(b5.s.Dispose(),b5.s=null,false)));},function(b5){var b6;b6=b5.s;!n.Equals(b6,null)?b6.Dispose():void 0;});}};};J.head=function(b1){var b2;b2=Y.Get(b1);try{return b2.MoveNext()?b2.Current():J.insufficient();}finally{if(typeof b2=="object"&&"Dispose"in b2)b2.Dispose();}};J.unfold=function(b1,b2){return{GetEnumerator:function(){return new Z.New(b2,null,function(b3){var b4;b4=b1(b3.s);return b4==null?false:(b3.c=b4.$0[0],b3.s=b4.$0[1],true);},void 0);}};};J.fold=function(b1,b2,b3){var b4,b5;b4=b2;b5=Y.Get(b3);try{while(b5.MoveNext())b4=b1(b4,b5.Current());return b4;}finally{if(typeof b5=="object"&&"Dispose"in b5)b5.Dispose();}};J.distinctBy=function(b1,b2){return{GetEnumerator:function(){var b3,b4;b3=Y.Get(b2);b4=new I.New$3();return new Z.New(null,null,function(b5){var b6,b7;if(b3.MoveNext()){b6=b3.Current();b7=b4.Add(b1(b6));while(!b7&&b3.MoveNext()){b6=b3.Current();b7=b4.Add(b1(b6));}return b7&&(b5.c=b6,true);}else return false;},function(){b3.Dispose();});}};};J.iter=function(b1,b2){var b3;b3=Y.Get(b2);try{while(b3.MoveNext())b1(b3.Current());}finally{if(typeof b3=="object"&&"Dispose"in b3)b3.Dispose();}};J.map=function(b1,b2){return{GetEnumerator:function(){var b3;b3=Y.Get(b2);return new Z.New(null,null,function(b4){return b3.MoveNext()&&(b4.c=b1(b3.Current()),true);},function(){b3.Dispose();});}};};J.max=function(b1){var b2,b3,b4;b2=Y.Get(b1);try{if(!b2.MoveNext())J.seqEmpty();b3=b2.Current();while(b2.MoveNext()){b4=b2.Current();n.Compare(b4,b3)===1?b3=b4:void 0;}return b3;}finally{if(typeof b2=="object"&&"Dispose"in b2)b2.Dispose();}};J.seqEmpty=function(){return e.FailWith("The input sequence was empty.");};J.forall=function(b1,b2){return!J.exists(function(b3){return!b1(b3);},b2);};J.exists=function(b1,b2){var b3,b4;b3=Y.Get(b2);try{b4=false;while(!b4&&b3.MoveNext())b4=b1(b3.Current());return b4;}finally{if(typeof b3=="object"&&"Dispose"in b3)b3.Dispose();}};l.choose=function(b1,b2){var b3,b4,b5,b6;b3=[];for(b4=0,b5=b2.length-1;b4<=b5;b4++){b6=b1(b2[b4]);b6==null?void 0:b3.push(b6.$0);}return b3;};l.tryFindIndex=function(b1,b2){var b3,b4;b3=null;b4=0;while(b4<b2.length&&b3==null){b1(b2[b4])?b3={$:1,$0:b4}:void 0;b4=b4+1;}return b3;};l.ofList=function(b1){var b2,b3;b3=[];b2=b1;while(!(b2.$==0)){b3.push(_8.head(b2));b2=_8.tail(b2);}return b3;};l.mapi=function(b1,b2){var b3,b4,b5;b3=new a.Array(b2.length);for(b4=0,b5=b2.length-1;b4<=b5;b4++)b3[b4]=b1(b4,b2[b4]);return b3;};l.tryPick=function(b1,b2){var b3,b4,b5;b3=null;b4=0;while(b4<b2.length&&b3==null){b5=b1(b2[b4]);b5!=null&&b5.$==1?b3=b5:void 0;b4=b4+1;}return b3;};l.exists=function(b1,b2){var b3,b4,b5,b6;b3=false;b4=0;b6=l.length(b2);while(!b3&&b4<b6)if(b1(b2[b4]))b3=true;else b4=b4+1;return b3;};l.concat=function(b1){return a.Array.prototype.concat.apply([],l.ofSeq(b1));};l.ofSeq=function(b1){var b2,b3;if(b1 instanceof a.Array)return b1.slice();else if(b1 instanceof _9)return l.ofList(b1);else{b2=[];b3=Y.Get(b1);try{while(b3.MoveNext())b2.push(b3.Current());return b2;}finally{if(typeof b3=="object"&&"Dispose"in b3)b3.Dispose();}}};l.map=function(b1,b2){var b3,b4,b5;b3=new a.Array(b2.length);for(b4=0,b5=b2.length-1;b4<=b5;b4++)b3[b4]=b1(b2[b4]);return b3;};l.foldBack=function(b1,b2,b3){var b4,b5,b6,b7,b8;b4=b3;b6=b2.length;for(b7=1,b8=b6;b7<=b8;b7++)b4=b1(b2[b6-b7],b4);return b4;};l.iter=function(b1,b2){var b3,b4;for(b3=0,b4=b2.length-1;b3<=b4;b3++)b1(b2[b3]);};l.filter=function(b1,b2){var b3,b4,b5;b3=[];for(b4=0,b5=b2.length-1;b4<=b5;b4++)if(b1(b2[b4]))b3.push(b2[b4]);return b3;};l.pick=function(b1,b2){var b3;b3=l.tryPick(b1,b2);return b3==null?e.FailWith("KeyNotFoundException"):b3.$0;};l.forall=function(b1,b2){var b3,b4,b5,b6;b3=true;b4=0;b6=l.length(b2);while(b3&&b4<b6)if(b1(b2[b4]))b4=b4+1;else b3=false;return b3;};l.create=function(b1,b2){var b3,b4,b5;b3=new a.Array(b1);for(b4=0,b5=b1-1;b4<=b5;b4++)b3[b4]=b2;return b3;};l.init=function(b1,b2){var b3,b4,b5;b1<0?e.FailWith("Negative size given."):null;b3=new a.Array(b1);for(b4=0,b5=b1-1;b4<=b5;b4++)b3[b4]=b2(b4);return b3;};K.$cctor=function(){K.$cctor=a.ignore;K.initialized=new F.New$5();};K=j.TemplateInitializer=bW.Class({},f,K);K.GetOrAddHoleFor=function(b1,b2,b3){var b4,b5,b6,b7;K.$cctor();b4=K.GetHolesFor(b1);b5=(b6=null,[b4.TryGetValue(b2,{get:function(){return b6;},set:function(b8){b6=b8;}}),b6]);return b5[0]?b5[1]:(b7=b3(),(b4.set_Item(b2,b7),b7));};K.GetHolesFor=function(b1){var b2,b3,b4;K.$cctor();b2=(b3=null,[K.initialized.TryGetValue(b1,{get:function(){return b3;},set:function(b5){b3=b5;}}),b3]);return b2[0]?b2[1]:(b4=new F.New$5(),(K.initialized.set_Item(b1,b4),b4));};N.GetFieldValues=function(b1){var b2,b3;b2=[];for(var b4 in b1)b2.push(b1[b4]);return b2;};P.Int=function(){P.set_counter(P.counter()+1);return P.counter();};P.set_counter=function(b1){bh.$cctor();bh.counter=b1;};P.counter=function(){bh.$cctor();return bh.counter;};Q=g.View=bW.Class({},null,Q);E.Obsolete=function(b1){var b2,b3,b4,b5,b6;b3=b1.s;if(b3==null||(b3!=null&&b3.$==2?(b2=b3.$1,false):b3!=null&&b3.$==3?(b2=b3.$1,false):true))void 0;else{b1.s=null;for(b4=0,b5=l.length(b2)-1;b4<=b5;b4++){b6=l.get(b2,b4);typeof b6=="object"?function(b7){E.Obsolete(b7);}(b6):b6();}}};E.New=function(b1){return{s:b1};};S=g.AttrProxy=bW.Class({},null,S);S.Create=function(b1,b2){return _7.Static(function(b3){b3.setAttribute(b1,b2);});};S.Concat=function(b1){var b2;b2=V.ofSeqNonCopying(b1);return V.TreeReduce(_7.EmptyAttr(),S.Append,b2);};S.Append=function(b1,b2){return _7.AppendTree(b1,b2);};S.Handler=function(b1,b2){return S.HandlerImpl(b1,b2);};S.HandlerImpl=function(b1,b2){return _7.Static(function(b3){b3.addEventListener(b1,function(b4){return(b2(b3))(b4);},false);});};T=g.CheckedInput=bW.Class({get_Input:function(){return this.$==1?this.$0:this.$==2?this.$0:this.$1;}},null,T);U.ParseInt32=function(b1){return U.Parse(b1,-2147483648,2147483647,"Value was either too large or too small for an Int32.");};U.TryParseInt32=function(b1,b2){return U.TryParse(b1,-2147483648,2147483647,b2);};V.ofSeqNonCopying=function(b1){var b2,b3;if(b1 instanceof a.Array)return b1;else if(b1 instanceof _9)return l.ofList(b1);else if(b1===null)return[];else{b2=[];b3=Y.Get(b1);try{while(b3.MoveNext())b2.push(b3.Current());return b2;}finally{if(typeof b3=="object"&&"Dispose"in b3)b3.Dispose();}}};V.TreeReduce=function(b1,b2,b3){var b4;function b5(b6,b7){var b8,b9;return b7<=0?b1:b7===1&&(b6>=0&&b6<b4)?l.get(b3,b6):(b9=b7/2>>0,b2(b5(b6,b9),b5(b6+b9,b7-b9)));}b4=l.length(b3);return b5(0,b4);};V.mapInPlace=function(b1,b2){var b3,b4;for(b3=0,b4=b2.length-1;b3<=b4;b3++)b2[b3]=b1(b2[b3]);return b2;};V.MapTreeReduce=function(b1,b2,b3,b4){var b5;function b6(b7,b8){var b9,b_;return b8<=0?b2:b8===1&&(b7>=0&&b7<b5)?b1(l.get(b4,b7)):(b_=b8/2>>0,b3(b6(b7,b_),b6(b7+b_,b8-b_)));}b5=l.length(b4);return b6(0,b5);};W.Solve=function(b1){var b2,b3,b4,b5,b6;b2=_.New(W.readInts(b1),0,false);b3=true;b4=$.New(l.get(b2.memory,b2.position),l.get(b2.memory,b2.position+1),l.get(b2.memory,b2.position+2),l.get(b2.memory,b2.position+3));b5=l.mapi(function(b7,b8){return b7===1?12:b7===2?2:b8;},b2.memory);b6=false;return J.last(J.unfold(function(b7){var b8;return b7.finished?null:(b8=W.runCmd(b3?b4:$.New(l.get(b7.memory,b7.position),l.get(b7.memory,b7.position+1),l.get(b7.memory,b7.position+2),l.get(b7.memory,b7.position+3)),b3?_.New(b5,b7.position,b7.finished):b7),(b3?b3=false:void 0,{$:1,$0:[b8,b8]}));},b2)).memory;};W.runCmd=function(b1,b2){var b3,b4,b5;b3=b1.opcode;return b3===1?(b4=l.mapi(function(b6,b7){return b6===b1.dest?l.get(b2.memory,b1.op1)+l.get(b2.memory,b1.op2):b7;},b2.memory),_.New(b4,b2.position+4,l.get(b4,b2.position+4)===99)):b3===2?(b5=l.mapi(function(b6,b7){return b6===b1.dest?l.get(b2.memory,b1.op1)*l.get(b2.memory,b1.op2):b7;},b2.memory),_.New(b5,b2.position+4,l.get(b5,b2.position+4)===99)):e.FailWith("wrong position");};W.readInts=function(b1){return l.map(U.ParseInt32,bm.SplitChars(b1,[","],0));};Q.Const=function(b1){var b2;b2=E.New({$:0,$0:b1});return function(){return b2;};};Q.MapSeqCached=function(b1,b2){return Q.MapSeqCachedBy(a.id,b1,b2);};Q.Map=function(b1,b2){return Q.CreateLazy(function(){return E.Map(b1,b2());});};Q.Map2Unit=function(b1,b2){return Q.CreateLazy(function(){return E.Map2Unit(b1(),b2());});};Q.Sink=function(b1,b2){function b3(){E.WhenRun(b2(),b1,function(){bs.scheduler().Fork(b3);});}bs.scheduler().Fork(b3);};Q.MapSeqCachedBy=function(b1,b2,b3){var b4;b4=[new F.New$5()];return Q.Map(function(b5){var b6,b7,b8;b6=b4[0];b7=new F.New$5();b8=V.mapInPlace(function(b9){var b_,b$;b_=b1(b9);b$=b6.ContainsKey(b_)?b6.get_Item(b_):b2(b9);b7.set_Item(b_,b$);return b$;},l.ofSeq(b5));b4[0]=b7;return b8;},b3);};Q.Bind=function(b1,b2){return Q.Join(Q.Map(b1,b2));};Q.CreateLazy=function(b1){var b2;b2={c:null,o:b1};return function(){var b3,b4;b3=b2.c;return b3===null?(b3=b2.o(),b2.c=b3,(b4=b3.s,b4!=null&&b4.$==0)?b2.o=null:E.WhenObsoleteRun(b3,function(){b2.c=null;}),b3):b3;};};Q.Map3=function(b1,b2,b3,b4){return Q.CreateLazy(function(){return E.Map3(b1,b2(),b3(),b4());});};Q.Sequence=function(b1){return Q.CreateLazy(function(){return E.Sequence(J.map(function(b2){return b2();},b1));});};Q.Map2=function(b1,b2,b3){return Q.CreateLazy(function(){return E.Map2(b1,b2(),b3());});};Q.Join=function(b1){return Q.CreateLazy(function(){return E.Join(b1());});};X.notPresent=function(){return e.FailWith("The given key was not present in the dictionary.");};Y.Get=function(b1){return b1 instanceof a.Array?Y.ArrayEnumerator(b1):n.Equals(typeof b1,"string")?Y.StringEnumerator(b1):b1.GetEnumerator();};Y.ArrayEnumerator=function(b1){return new Z.New(0,null,function(b2){var b3;b3=b2.s;return b3<l.length(b1)&&(b2.c=l.get(b1,b3),b2.s=b3+1,true);},void 0);};Y.StringEnumerator=function(b1){return new Z.New(0,null,function(b2){var b3;b3=b2.s;return b3<b1.length&&(b2.c=b1[b3],b2.s=b3+1,true);},void 0);};Y.Get0=function(b1){return b1 instanceof a.Array?Y.ArrayEnumerator(b1):n.Equals(typeof b1,"string")?Y.StringEnumerator(b1):"GetEnumerator0"in b1?b1.GetEnumerator0():b1.GetEnumerator();};Z=Y.T=bW.Class({MoveNext:function(){return this.n(this);},Current:function(){return this.c;},Dispose:function(){if(this.d)this.d(this);}},f,Z);Z.New=bW.Ctor(function(b1,b2,b3,b4){f.New.call(this);this.s=b1;this.c=b2;this.n=b3;this.d=b4;},Z);_0.$cctor=function(){_0.$cctor=a.ignore;_0.LoadedTemplates=new F.New$5();_0.LocalTemplatesLoaded=false;_0.GlobalHoles=new F.New$5();_0.TextHoleRE="\\${([^}]+)}";_0.RenderedFullDocTemplate=null;};_2.LinkElement=function(b1,b2){_2.InsertDoc(b1,b2,null);};_2.InsertDoc=function(b1,b2,b3){var b4;return b2!=null&&b2.$==1?_2.InsertNode(b1,b2.$0.El,b3):b2!=null&&b2.$==2?(b4=b2.$0,(b4.Dirty=false,_2.InsertDoc(b1,b4.Current,b3))):b2==null?b3:b2!=null&&b2.$==4?_2.InsertNode(b1,b2.$0.Text,b3):b2!=null&&b2.$==5?_2.InsertNode(b1,b2.$0,b3):b2!=null&&b2.$==6?l.foldBack(function(b5,b6){return b5==null||b5.constructor===R?_2.InsertDoc(b1,b5,b6):_2.InsertNode(b1,b5,b6);},b2.$0.Els,b3):_2.InsertDoc(b1,b2.$0,_2.InsertDoc(b1,b2.$1,b3));};_2.CreateRunState=function(b1,b2){return bq.New(br.get_Empty(),_2.CreateElemNode(b1,_7.EmptyAttr(),b2));};_2.PerformAnimatedUpdate=function(b1,b2,b3){var b4;return be.get_UseAnimations()?(b4=null,bs.Delay(function(){var b5,b6,b7;b5=br.FindAll(b3);b6=_2.ComputeChangeAnim(b2,b5);b7=_2.ComputeEnterAnim(b2,b5);return bs.Bind(be.Play(be.Append(b6,_2.ComputeExitAnim(b2,b5))),function(){return bs.Bind(_2.SyncElemNodesNextFrame(b1,b2),function(){return bs.Bind(be.Play(b7),function(){b2.PreviousNodes=b5;return bs.Return(null);});});});})):_2.SyncElemNodesNextFrame(b1,b2);};_2.PerformSyncUpdate=function(b1,b2,b3){var b4;b4=br.FindAll(b3);_2.SyncElemNode(b1,b2.Top);b2.PreviousNodes=b4;};_2.CreateEmbedNode=function(){return{Current:null,Dirty:false};};_2.UpdateEmbedNode=function(b1,b2){b1.Current=b2;b1.Dirty=true;};_2.InsertBeforeDelim=function(b1,b2){var b3,b4;b3=b1.parentNode;b4=self.document.createTextNode("");b3.insertBefore(b4,b1);_2.LinkPrevElement(b1,b2);return b4;};_2.InsertNode=function(b1,b2,b3){_6.InsertAt(b1,b3,b2);return b2;};_2.CreateElemNode=function(b1,b2,b3){var b4;_2.LinkElement(b1,b3);b4=_7.Insert(b1,b2);return _3.New(b4,b3,null,b1,P.Int(),bW.GetOptional(b4.OnAfterRender));};_2.SyncElemNodesNextFrame=function(b1,b2){function b3(b4){a.requestAnimationFrame(function(){_2.SyncElemNode(b1,b2.Top);b4();});}return bf.BatchUpdatesEnabled()?bs.FromContinuations(function(b4,b5,b6){return b3.apply(null,[b4,b5,b6]);}):(_2.SyncElemNode(b1,b2.Top),bs.Return(null));};_2.ComputeExitAnim=function(b1,b2){return be.Concat(l.map(function(b3){return _7.GetExitAnim(b3.Attr);},br.ToArray(br.Except(b2,br.Filter(function(b3){return _7.HasExitAnim(b3.Attr);},b1.PreviousNodes)))));};_2.ComputeEnterAnim=function(b1,b2){return be.Concat(l.map(function(b3){return _7.GetEnterAnim(b3.Attr);},br.ToArray(br.Except(b1.PreviousNodes,br.Filter(function(b3){return _7.HasEnterAnim(b3.Attr);},b2)))));};_2.ComputeChangeAnim=function(b1,b2){var b3;function b4(b5){return _7.HasChangeAnim(b5.Attr);}b3=function(b5){return br.Filter(b4,b5);};return be.Concat(l.map(function(b5){return _7.GetChangeAnim(b5.Attr);},br.ToArray(br.Intersect(b3(b1.PreviousNodes),b3(b2)))));};_2.SyncElemNode=function(b1,b2){!b1?_2.SyncElement(b2):void 0;_2.Sync(b2.Children);_2.AfterRender(b2);};_2.CreateTextNode=function(){return{Text:self.document.createTextNode(""),Dirty:false,Value:""};};_2.UpdateTextNode=function(b1,b2){b1.Value=b2;b1.Dirty=true;};_2.LinkPrevElement=function(b1,b2){_2.InsertDoc(b1.parentNode,b2,b1);};_2.SyncElement=function(b1){function b2(b3){function b4(b5){var b6,b7;return b5!=null&&b5.$==0?b4(b5.$0)||b4(b5.$1):b5!=null&&b5.$==2?(b6=b5.$0,b6.Dirty||b4(b6.Current)):b5!=null&&b5.$==6&&(b7=b5.$0,b7.Dirty||l.exists(b2,b7.Holes));}return b4(b3.Children);}_7.Sync(b1.El,b1.Attr);b2(b1)?_2.DoSyncElement(b1):void 0;};_2.Sync=function(b1){var b2,b3;if(b1!=null&&b1.$==1)_2.SyncElemNode(false,b1.$0);else if(b1!=null&&b1.$==2)_2.Sync(b1.$0.Current);else if(b1==null);else if(b1!=null&&b1.$==5);else if(b1!=null&&b1.$==4){b2=b1.$0;b2.Dirty?(b2.Text.nodeValue=b2.Value,b2.Dirty=false):void 0;}else if(b1!=null&&b1.$==6){b3=b1.$0;l.iter(function(b4){_2.SyncElemNode(false,b4);},b3.Holes);l.iter(function(b4){_7.Sync(b4[0],b4[1]);},b3.Attrs);_2.AfterRender(b3);}else{_2.Sync(b1.$0);_2.Sync(b1.$1);}};_2.AfterRender=function(b1){var b2;b2=bW.GetOptional(b1.Render);b2!=null&&b2.$==1?(b2.$0(b1.El),bW.SetOptional(b1,"Render",null)):void 0;};_2.DoSyncElement=function(b1){var b2,b3,b4;function b5(b6,b7){var b8,b9;return b6!=null&&b6.$==1?b6.$0.El:b6!=null&&b6.$==2?(b8=b6.$0,b8.Dirty?(b8.Dirty=false,_2.InsertDoc(b2,b8.Current,b7)):b5(b8.Current,b7)):b6==null?b7:b6!=null&&b6.$==4?b6.$0.Text:b6!=null&&b6.$==5?b6.$0:b6!=null&&b6.$==6?(b9=b6.$0,(b9.Dirty?b9.Dirty=false:void 0,l.foldBack(function(b_,b$){return b_==null||b_.constructor===R?b5(b_,b$):b_;},b9.Els,b7))):b5(b6.$0,b5(b6.$1,b7));}b2=b1.El;bN.Iter((b3=b1.El,function(b6){_6.RemoveNode(b3,b6);}),bN.Except(bN.DocChildren(b1),bN.Children(b1.El,bW.GetOptional(b1.Delimiters))));b5(b1.Children,(b4=bW.GetOptional(b1.Delimiters),b4!=null&&b4.$==1?b4.$0[1]:null));};_3=g.DocElemNode=bW.Class({Equals:function(b1){return this.ElKey===b1.ElKey;},GetHashCode:function(){return this.ElKey;}},null,_3);_3.New=function(b1,b2,b3,b4,b5,b6){var b7;return new _3((b7={Attr:b1,Children:b2,El:b4,ElKey:b5},(bW.SetOptional(b7,"Delimiters",b3),bW.SetOptional(b7,"Render",b6),b7)));};_5.InMemory=function(b1){return new bk.New(b1);};_6.ParseHTMLIntoFakeRoot=function(b1){var b2,b3,b4,b5,b6;b2=self.document.createElement("div");return!_6.rhtml().test(b1)?(b2.appendChild(self.document.createTextNode(b1)),b2):(b3=(b4=_6.rtagName().exec(b1),n.Equals(b4,null)?"":l.get(b4,1).toLowerCase()),(b5=(b6=(_6.wrapMap())[b3],b6?b6:_6.defaultWrap()),(b2.innerHTML=b5[1]+b1.replace(_6.rxhtmlTag(),"<$1></$2>")+b5[2],function(b7,b8){var b9;while(true)if(b8===0)return b7;else{b9=b8;b7=b7.lastChild;b8=b9-1;}}(b2,b5[0]))));};_6.ChildrenArray=function(b1){var b2,b3,b4;b2=[];for(b3=0,b4=b1.childNodes.length-1;b3<=b4;b3++)b2.push(b1.childNodes[b3]);return b2;};_6.rhtml=function(){bx.$cctor();return bx.rhtml;};_6.wrapMap=function(){bx.$cctor();return bx.wrapMap;};_6.defaultWrap=function(){bx.$cctor();return bx.defaultWrap;};_6.rxhtmlTag=function(){bx.$cctor();return bx.rxhtmlTag;};_6.rtagName=function(){bx.$cctor();return bx.rtagName;};_6.IterSelector=function(b1,b2,b3){var b4,b5,b6;b4=b1.querySelectorAll(b2);for(b5=0,b6=b4.length-1;b5<=b6;b5++)b3(b4[b5]);};_6.InsertAt=function(b1,b2,b3){var b4;if(!(b3.parentNode===b1&&b2===(b4=b3.nextSibling,n.Equals(b4,null)?null:b4)))b1.insertBefore(b3,b2);};_6.RemoveNode=function(b1,b2){if(b2.parentNode===b1)b1.removeChild(b2);};_7.Static=function(b1){return new S({$:3,$0:b1});};_7.Insert=function(b1,b2){var b3,b4,b5;function b6(b7){if(!(b7===null))if(b7!=null&&b7.$==1)b3.push(b7.$0);else if(b7!=null&&b7.$==2){b6(b7.$0);b6(b7.$1);}else if(b7!=null&&b7.$==3)b7.$0(b1);else if(b7!=null&&b7.$==4)b4.push(b7.$0);}b3=[];b4=[];b6(b2);b5=b3.slice(0);return bj.New(b1,_7.Flags(b2),b5,b4.length===0?null:{$:1,$0:function(b7){J.iter(function(b8){b8(b7);},b4);}});};_7.Updates=function(b1){return V.MapTreeReduce(function(b2){return b2.NChanged();},Q.Const(),Q.Map2Unit,b1.DynNodes);};_7.Empty=function(b1){return bj.New(b1,0,[],null);};_7.AppendTree=function(b1,b2){var b3;return b1===null?b2:b2===null?b1:(b3=new S({$:2,$0:b1,$1:b2}),(_7.SetFlags(b3,_7.Flags(b1)|_7.Flags(b2)),b3));};_7.EmptyAttr=function(){bA.$cctor();return bA.EmptyAttr;};_7.Flags=function(b1){return b1!==null&&b1.hasOwnProperty("flags")?b1.flags:0;};_7.Dynamic=function(b1,b2){return new S({$:1,$0:new bE.New(b1,b2)});};_7.HasExitAnim=function(b1){var b2;b2=2;return(b1.DynFlags&b2)===b2;};_7.GetExitAnim=function(b1){return _7.GetAnim(b1,function(b2,b3){return b2.NGetExitAnim(b3);});};_7.HasEnterAnim=function(b1){var b2;b2=1;return(b1.DynFlags&b2)===b2;};_7.GetEnterAnim=function(b1){return _7.GetAnim(b1,function(b2,b3){return b2.NGetEnterAnim(b3);});};_7.HasChangeAnim=function(b1){var b2;b2=4;return(b1.DynFlags&b2)===b2;};_7.GetChangeAnim=function(b1){return _7.GetAnim(b1,function(b2,b3){return b2.NGetChangeAnim(b3);});};_7.SetFlags=function(b1,b2){b1.flags=b2;};_7.GetAnim=function(b1,b2){return be.Concat(l.map(function(b3){return b2(b3,b1.DynElem);},b1.DynNodes));};_7.Sync=function(b1,b2){l.iter(function(b3){b3.NSync(b1);},b2.DynNodes);};_9=_8.T=bW.Class({GetEnumerator:function(){return new Z.New(this,null,function(b1){var b2;b2=b1.s;return b2.$==0?false:(b1.c=b2.$0,b1.s=b2.$1,true);},void 0);},GetEnumerator0:function(){return Y.Get(this);}},null,_9);_9.Empty=new _9({$:0});_.New=function(b1,b2,b3){return{memory:b1,position:b2,finished:b3};};$.New=function(b1,b2,b3,b4){return{opcode:b1,op1:b2,op2:b3,dest:b4};};ba=g.Elt=bW.Class({},A,ba);ba.TreeNode=function(b1,b2){var b3,b4;function b5(b6){return b6[1];}b3=bn.Create(b2);return new ba.New$1({$:6,$0:b1},Q.Map2Unit((b4=l.map(function(b6){return _7.Updates(b5(b6));},b1.Attrs),V.TreeReduce(Q.Const(),Q.Map2Unit,b4)),b3.v),l.get(b1.Els,0),b3);};ba.New=function(b1,b2,b3){var b4,b5;b4=_2.CreateElemNode(b1,b2,b3.docNode);b5=bn.Create(b3.updates);return new ba.New$1({$:1,$0:b4},Q.Map2Unit(_7.Updates(b4.Attr),b5.v),b1,b5);};ba.New$1=bW.Ctor(function(b1,b2,b3,b4){A.New.call(this,b1,b2);this.docNode$1=b1;this.updates$1=b2;this.elt=b3;this.rvUpdates=b4;},ba);bb.convertTextNode=function(b1){var b2,b3,b4,b5,b6,b7;b2=null;b3=0;b5=b1.textContent;b6=new a.RegExp(z.TextHoleRE(),"g");while(b2=b6.exec(b5),b2!==null){b1.parentNode.insertBefore(self.document.createTextNode(bc.string(b5,{$:1,$0:b3},{$:1,$0:b6.lastIndex-l.get(b2,0).length-1})),b1);b3=b6.lastIndex;b7=self.document.createElement("span");b7.setAttribute("ws-replace",l.get(b2,1).toLowerCase());b1.parentNode.insertBefore(b7,b1);}b6.lastIndex=0;b1.textContent=bc.string(b5,{$:1,$0:b3},null);};bb.failNotLoaded=function(b1){bY.warn("Instantiating non-loaded template",b1);};bb.fillTextHole=function(b1,b2,b3){var b4;b4=b1.querySelector("[ws-replace]");return n.Equals(b4,null)?(bY.warn("Filling non-existent text hole",b3),null):(b4.parentNode.replaceChild(self.document.createTextNode(b2),b4),{$:1,$0:b4.getAttribute("ws-replace")});};bb.removeHolesExcept=function(b1,b2){function b3(b4){z.foreachNotPreserved(b1,"["+b4+"]",function(b5){if(!b2.Contains(b5.getAttribute(b4)))b5.removeAttribute(b4);});}b3("ws-attr");b3("ws-onafterrender");b3("ws-var");z.foreachNotPreserved(b1,"[ws-hole]",function(b4){if(!b2.Contains(b4.getAttribute("ws-hole"))){b4.removeAttribute("ws-hole");while(b4.hasChildNodes())b4.removeChild(b4.lastChild);}});z.foreachNotPreserved(b1,"[ws-replace]",function(b4){if(!b2.Contains(b4.getAttribute("ws-replace")))b4.parentNode.removeChild(b4);});z.foreachNotPreserved(b1,"[ws-on]",function(b4){b4.setAttribute("ws-on",bm.concat(" ",l.filter(function(b5){return b2.Contains(l.get(bm.SplitChars(b5,[":"],1),1));},bm.SplitChars(b4.getAttribute("ws-on"),[" "],1))));});z.foreachNotPreserved(b1,"[ws-attr-holes]",function(b4){var b5,b6,b7,b8,b9;b5=bm.SplitChars(b4.getAttribute("ws-attr-holes"),[" "],1);for(b6=0,b7=b5.length-1;b6<=b7;b6++){b8=l.get(b5,b6);b4.setAttribute(b8,(b9=new a.RegExp(z.TextHoleRE(),"g"),b4.getAttribute(b8).replace(b9,function(b_,b$){return b2.Contains(b$)?b_:"";})));}});};bb.fillInstanceAttrs=function(b1,b2){var b3,b4,b5,b6,b7;bb.convertAttrs(b2);b3=b2.nodeName.toLowerCase();b4=b1.querySelector("[ws-attr="+b3+"]");if(n.Equals(b4,null))bY.warn("Filling non-existent attr hole",b3);else{b4.removeAttribute("ws-attr");for(b5=0,b6=b2.attributes.length-1;b5<=b6;b5++){b7=b2.attributes.item(b5);b7.name==="class"&&b4.hasAttribute("class")?b4.setAttribute("class",b4.getAttribute("class")+" "+b7.nodeValue):b4.setAttribute(b7.name,b7.nodeValue);}}};bb.mapHoles=function(b1,b2){function b3(b4){z.foreachNotPreserved(b1,"["+b4+"]",function(b5){var b6,b7;b6=(b7=null,[b2.TryGetValue(b5.getAttribute(b4).toLowerCase(),{get:function(){return b7;},set:function(b8){b7=b8;}}),b7]);b6[0]?b5.setAttribute(b4,b6[1]):void 0;});}b3("ws-hole");b3("ws-replace");b3("ws-attr");b3("ws-onafterrender");b3("ws-var");z.foreachNotPreserved(b1,"[ws-on]",function(b4){b4.setAttribute("ws-on",bm.concat(" ",l.map(function(b5){var b6,b7,b8;b6=bm.SplitChars(b5,[":"],1);b7=(b8=null,[b2.TryGetValue(l.get(b6,1),{get:function(){return b8;},set:function(b9){b8=b9;}}),b8]);return b7[0]?l.get(b6,0)+":"+b7[1]:b5;},bm.SplitChars(b4.getAttribute("ws-on"),[" "],1))));});z.foreachNotPreserved(b1,"[ws-attr-holes]",function(b4){var b5,b6,b7;b5=bm.SplitChars(b4.getAttribute("ws-attr-holes"),[" "],1);for(b6=0,b7=b5.length-1;b6<=b7;b6++)(function(){var b8;function b9(b_,b$){var ca;ca=e.KeyValue(b$);return b_.replace(new a.RegExp("\\${"+ca[0]+"}","ig"),"${"+ca[1]+"}");}b8=l.get(b5,b6);return b4.setAttribute(b8,(((bW.Curried3(J.fold))(b9))(b4.getAttribute(b8)))(b2));}());});};bb.fill=function(b1,b2,b3){while(true)if(b1.hasChildNodes())b3=b2.insertBefore(b1.lastChild,b3);else return null;};bb.convertAttrs=function(b1){var b3,b4,b5,b6,b7,b8,b9,b_;function b2(b$){var ca;ca=b1.getAttribute(b$);ca===null?void 0:b1.setAttribute(b$,ca.toLowerCase());}b3=b1.attributes;b4=[];b5=[];b6=[];for(b7=0,b8=b3.length-1;b7<=b8;b7++){b9=b3.item(b7);bm.StartsWith(b9.nodeName,"ws-on")&&b9.nodeName!=="ws-onafterrender"&&b9.nodeName!=="ws-on"?(b4.push(b9.nodeName),b5.push(bc.string(b9.nodeName,{$:1,$0:"ws-on".length},null)+":"+b9.nodeValue.toLowerCase())):!bm.StartsWith(b9.nodeName,"ws-")&&(new a.RegExp(z.TextHoleRE())).test(b9.nodeValue)?(b9.nodeValue=(b_=new a.RegExp(z.TextHoleRE(),"g"),b9.nodeValue.replace(b_,function(b$,ca){return"${"+ca.toLowerCase()+"}";})),b6.push(b9.nodeName)):void 0;}!(b5.length==0)?b1.setAttribute("ws-on",bm.concat(" ",b5)):void 0;!(b6.length==0)?b1.setAttribute("ws-attr-holes",bm.concat(" ",b6)):void 0;b2("ws-hole");b2("ws-replace");b2("ws-attr");b2("ws-onafterrender");b2("ws-var");l.iter(function(b$){b1.removeAttribute(b$);},b4);};bc.string=function(b1,b2,b3){return b2==null?b3!=null&&b3.$==1?b1.slice(0,b3.$0+1):"":b3==null?b1.slice(b2.$0):b1.slice(b2.$0,b3.$0+1);};J.insufficient=function(){return e.FailWith("The input sequence has an insufficient number of elements.");};J.last=function(b1){var b2,b3;b2=Y.Get(b1);try{if(!b2.MoveNext())b3=J.insufficient();else{while(b2.MoveNext());b3=b2.Current();}return b3;}finally{if(typeof b2=="object"&&"Dispose"in b2)b2.Dispose();}};bd=w.KeyCollection=bW.Class({GetEnumerator$1:function(){return Y.Get(J.map(function(b1){return b1.K;},this.d));},GetEnumerator:function(){return this.GetEnumerator$1();},GetEnumerator0:function(){return this.GetEnumerator$1();}},f,bd);bd.New=bW.Ctor(function(b1){f.New.call(this);this.d=b1;},bd);be.get_UseAnimations=function(){return bt.UseAnimations();};be.Play=function(b1){var b2;b2=null;return bs.Delay(function(){return bs.Bind(be.Run(a.ignore,bt.Actions(b1)),function(){bt.Finalize(b1);return bs.Return(null);});});};be.Append=function(b1,b2){return{$:0,$0:bz.Append(b1.$0,b2.$0)};};be.Run=function(b1,b2){var b3;function b4(b5){function b6(b7,b8){var b9;b9=b8-b7;b2.Compute(b9);b1();return b9<=b3?void a.requestAnimationFrame(function(b_){b6(b7,b_);}):b5();}a.requestAnimationFrame(function(b7){b6(b7,b7);});}b3=b2.Duration;return b3===0?bs.Zero():bs.FromContinuations(function(b5,b6,b7){return b4.apply(null,[b5,b6,b7]);});};be.Concat=function(b1){return{$:0,$0:bz.Concat(J.map(bt.List,b1))};};be.get_Empty=function(){return{$:0,$0:bz.Empty()};};bf.BatchUpdatesEnabled=function(){bu.$cctor();return bu.BatchUpdatesEnabled;};bg.StartProcessor=function(b1){var b2;function b3(){var b4;b4=null;return bs.Delay(function(){return bs.Bind(b1,function(){var b5;b5=b2[0];return b5===1?(b2[0]=0,bs.Zero()):b5===2?(b2[0]=1,b3()):bs.Zero();});});}b2=[0];return function(){var b4;b4=b2[0];b4===0?(b2[0]=1,bs.Start(b3(),null)):b4===1?b2[0]=2:void 0;};};bh.$cctor=function(){bh.$cctor=a.ignore;bh.counter=0;};bj.New=function(b1,b2,b3,b4){var b5;b5={DynElem:b1,DynFlags:b2,DynNodes:b3};bW.SetOptional(b5,"OnAfterRender",b4);return b5;};bk=_5.ArrayStorage=bW.Class({SSetAt:function(b1,b2,b3){l.set(b3,b1,b2);return b3;},SAppend:function(b1,b2){b2.push(b1);return b2;},SInit:function(){return this.init;}},f,bk);bk.New=bW.Ctor(function(b1){f.New.call(this);this.init=b1;},bk);_8.head=function(b1){return b1.$==1?b1.$0:_8.listEmpty();};_8.tail=function(b1){return b1.$==1?b1.$1:_8.listEmpty();};_8.listEmpty=function(){return e.FailWith("The input list was empty.");};bl.Handler=function(b1,b2){return _7.Static(function(b3){b3.addEventListener(b1,function(b4){return(b2(b3))(b4);},false);});};bl.OnAfterRender=function(b1){return new S({$:4,$0:b1});};bl.Value=function(b1){var b2;b2=(((bw.StringApply())(b1))(_7.Static))(function(b3){return bl.DynamicCustom(b3,b1.get_View());});return S.Append(b2[0],b2[1]);};bl.Checked=function(b1){var b2;b2=(((bw.BoolCheckedApply())(b1))(_7.Static))(function(b3){return bl.DynamicCustom(b3,b1.get_View());});return S.Append(b2[0],b2[1]);};bl.IntValue=function(b1){var b2;b2=(((bw.IntApplyChecked())(b1))(_7.Static))(function(b3){return bl.DynamicCustom(b3,b1.get_View());});return S.Append(b2[0],b2[1]);};bl.IntValueUnchecked=function(b1){var b2;b2=(((bw.IntApplyUnchecked())(b1))(_7.Static))(function(b3){return bl.DynamicCustom(b3,b1.get_View());});return S.Append(b2[0],b2[1]);};bl.FloatValue=function(b1){var b2;b2=(((bw.FloatApplyChecked())(b1))(_7.Static))(function(b3){return bl.DynamicCustom(b3,b1.get_View());});return S.Append(b2[0],b2[1]);};bl.FloatValueUnchecked=function(b1){var b2;b2=(((bw.FloatApplyUnchecked())(b1))(_7.Static))(function(b3){return bl.DynamicCustom(b3,b1.get_View());});return S.Append(b2[0],b2[1]);};bl.Dynamic=function(b1,b2){return _7.Dynamic(b2,function(b3){return function(b4){return b3.setAttribute(b1,b4);};});};bl.DynamicCustom=function(b1,b2){return _7.Dynamic(b2,b1);};bm.concat=function(b1,b2){return l.ofSeq(b2).join(b1);};bm.SplitChars=function(b1,b2,b3){return bm.Split(b1,new a.RegExp("["+bm.RegexEscape(b2.join(""))+"]"),b3);};bm.StartsWith=function(b1,b2){return b1.substring(0,b2.length)==b2;};bm.Split=function(b1,b2,b3){return b3===1?l.filter(function(b4){return b4!=="";},bm.SplitWith(b1,b2)):bm.SplitWith(b1,b2);};bm.RegexEscape=function(b1){return b1.replace(new a.RegExp("[-\\/\\\\^$*+?.()|[\\]{}]","g"),"\\$&");};bm.SplitWith=function(b1,b2){return b1.split(b2);};bm.forall=function(b1,b2){return J.forall(b1,bm.protect(b2));};bm.protect=function(b1){return b1===null?"":b1;};bn=g.Updates=bW.Class({},null,bn);bn.Create=function(b1){var b2;b2=null;b2=bn.New(b1,null,function(){var b3;b3=b2.s;return b3===null?(b3=E.Copy(b2.c()),b2.s=b3,E.WhenObsoleteRun(b3,function(){b2.s=null;}),b3):b3;});return b2;};bn.New=function(b1,b2,b3){return new bn({c:b1,s:b2,v:b3});};bo=w.ValueCollection=bW.Class({GetEnumerator$1:function(){return Y.Get(J.map(function(b1){return b1.V;},this.d));},GetEnumerator:function(){return this.GetEnumerator$1();},GetEnumerator0:function(){return this.GetEnumerator$1();}},f,bo);bo.New=bW.Ctor(function(b1){f.New.call(this);this.d=b1;},bo);bq.New=function(b1,b2){return{PreviousNodes:b1,Top:b2};};br.get_Empty=function(){return{$:0,$0:new I.New$3()};};br.FindAll=function(b1){var b2;function b3(b5){if(b5!=null&&b5.$==0){b3(b5.$0);b3(b5.$1);}else if(b5!=null&&b5.$==1)b4(b5.$0);else if(b5!=null&&b5.$==2)b3(b5.$0.Current);else if(b5!=null&&b5.$==6)l.iter(b4,b5.$0.Holes);}function b4(b5){b2.push(b5);b3(b5.Children);}b2=[];b3(b1);return{$:0,$0:new I.New$2(b2)};};br.Filter=function(b1,b2){return{$:0,$0:bK.Filter(b1,b2.$0)};};br.Except=function(b1,b2){return{$:0,$0:bK.Except(b1.$0,b2.$0)};};br.ToArray=function(b1){return bK.ToArray(b1.$0);};br.Intersect=function(b1,b2){return{$:0,$0:bK.Intersect(b1.$0,b2.$0)};};bs.Delay=function(b1){return function(b2){try{(b1(null))(b2);}catch(b3){b2.k({$:1,$0:b3});}};};bs.Bind=function(b1,b2){return bs.checkCancel(function(b3){b1(bH.New(function(b4){var b5;if(b4.$==0){b5=b4.$0;bs.scheduler().Fork(function(){try{(b2(b5))(b3);}catch(b6){b3.k({$:1,$0:b6});}});}else bs.scheduler().Fork(function(){b3.k(b4);});},b3.ct));});};bs.Zero=function(){bI.$cctor();return bI.Zero;};bs.Start=function(b1,b2){var b3,b4;b3=(b4=(bs.defCTS())[0],b2==null?b4:b2.$0);bs.scheduler().Fork(function(){if(!b3.c)b1(bH.New(function(b5){if(b5.$==1)bs.UncaughtAsyncError(b5.$0);},b3));});};bs.Return=function(b1){return function(b2){b2.k({$:0,$0:b1});};};bs.scheduler=function(){bI.$cctor();return bI.scheduler;};bs.checkCancel=function(b1){return function(b2){if(b2.ct.c)bs.cancel(b2);else b1(b2);};};bs.defCTS=function(){bI.$cctor();return bI.defCTS;};bs.UncaughtAsyncError=function(b1){bY.log("WebSharper: Uncaught asynchronous exception",b1);};bs.FromContinuations=function(b1){return function(b2){var b3;function b4(b5){if(b3[0])e.FailWith("A continuation provided by Async.FromContinuations was invoked multiple times");else{b3[0]=true;bs.scheduler().Fork(b5);}}b3=[false];b1(function(b5){b4(function(){b2.k({$:0,$0:b5});});},function(b5){b4(function(){b2.k({$:1,$0:b5});});},function(b5){b4(function(){b2.k({$:2,$0:b5});});});};};bs.cancel=function(b1){b1.k({$:2,$0:new bQ.New(b1.ct)});};bt.UseAnimations=function(){by.$cctor();return by.UseAnimations;};bt.Actions=function(b1){return bt.ConcatActions(l.choose(function(b2){return b2.$==1?{$:1,$0:b2.$0}:null;},bz.ToArray(b1.$0)));};bt.Finalize=function(b1){l.iter(function(b2){if(b2.$==0)b2.$0();},bz.ToArray(b1.$0));};bt.ConcatActions=function(b1){var b2,b3,b4,b5;b2=V.ofSeqNonCopying(b1);b3=l.length(b2);return b3===0?bt.Const():b3===1?l.get(b2,0):(b4=J.max(J.map(function(b6){return b6.Duration;},b2)),(b5=l.map(function(b6){return bt.Prolong(b4,b6);},b2),bt.Def(b4,function(b6){l.iter(function(b7){b7.Compute(b6);},b5);})));};bt.List=function(b1){return b1.$0;};bt.Const=function(b1){return bt.Def(0,function(){return b1;});};bt.Def=function(b1,b2){return{Compute:b2,Duration:b1};};bt.Prolong=function(b1,b2){var b3,b4,b5;b3=b2.Compute;b4=b2.Duration;b5=bR.Create(function(){return b2.Compute(b2.Duration);});return{Compute:function(b6){return b6>=b4?b5.f():b3(b6);},Duration:b1};};bu.$cctor=function(){bu.$cctor=a.ignore;bu.BatchUpdatesEnabled=true;};bv.concat=function(b1){var b2,b3;b2=[];for(var b4 in b1)b2.push.apply(b2,b1[b4]);return b2;};U.Parse=function(b1,b2,b3,b4){var b5;b5=+b1;if(b5!==b5-b5%1)throw new bC.New$1("Input string was not in a correct format.");else if(b5<b2||b5>b3)throw new bD.New$1(b4);else return b5;};U.TryParse=function(b1,b2,b3,b4){var b5,b6;b5=+b1;b6=b5===b5-b5%1&&b5>=b2&&b5<=b3;b6?b4.set(b5):void 0;return b6;};bw.StringApply=function(){bA.$cctor();return bA.StringApply;};bw.BoolCheckedApply=function(){bA.$cctor();return bA.BoolCheckedApply;};bw.IntApplyChecked=function(){bA.$cctor();return bA.IntApplyChecked;};bw.IntApplyUnchecked=function(){bA.$cctor();return bA.IntApplyUnchecked;};bw.FloatApplyChecked=function(){bA.$cctor();return bA.FloatApplyChecked;};bw.FloatApplyUnchecked=function(){bA.$cctor();return bA.FloatApplyUnchecked;};bw.ApplyValue=function(b1,b2,b3,b4,b5){return[b4(function(b6){function b7(){b3.UpdateMaybe(function(b8){var b9,b_;b9=b1(b6);return b9!=null&&b9.$==1&&(!n.Equals(b9.$0,b8)&&(b_=[b9,b9.$0],true))?b_[0]:null;});}b6.addEventListener("change",b7);b6.addEventListener("input",b7);b6.addEventListener("keypress",b7);}),b5(function(b6){return function(b7){var b8,b9;b8=b1(b6);return b8!=null&&b8.$==1&&(n.Equals(b8.$0,b7)&&(b9=b8.$0,true))?null:b2(b6,b7);};})];};bw.StringSet=function(){bA.$cctor();return bA.StringSet;};bw.StringGet=function(){bA.$cctor();return bA.StringGet;};bw.IntSetUnchecked=function(){bA.$cctor();return bA.IntSetUnchecked;};bw.IntGetUnchecked=function(){bA.$cctor();return bA.IntGetUnchecked;};bw.IntSetChecked=function(){bA.$cctor();return bA.IntSetChecked;};bw.IntGetChecked=function(){bA.$cctor();return bA.IntGetChecked;};bw.FloatSetUnchecked=function(){bA.$cctor();return bA.FloatSetUnchecked;};bw.FloatGetUnchecked=function(){bA.$cctor();return bA.FloatGetUnchecked;};bw.FloatSetChecked=function(){bA.$cctor();return bA.FloatSetChecked;};bw.FloatGetChecked=function(){bA.$cctor();return bA.FloatGetChecked;};bx.$cctor=function(){var b1;bx.$cctor=a.ignore;bx.rxhtmlTag=new a.RegExp("<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\\w:]+)[^>]*)\\/>","gi");bx.rtagName=new a.RegExp("<([\\w:]+)");bx.rhtml=new a.RegExp("<|&#?\\w+;");bx.wrapMap=(b1=[1,"<table>","</table>"],{option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:b1,tbody:b1,tfoot:b1,tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><colgroup>","</colgoup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"]});bx.defaultWrap=[0,"",""];};by.$cctor=function(){by.$cctor=a.ignore;by.CubicInOut=bG.Custom(function(b1){var b2;b2=b1*b1;return 3*b2-2*(b2*b1);});by.UseAnimations=true;};bz.Append=function(b1,b2){return b1.$==0?b2:b2.$==0?b1:{$:2,$0:b1,$1:b2};};bz.ToArray=function(b1){var b2;function b3(b4){if(b4.$==1)b2.push(b4.$0);else if(b4.$==2){b3(b4.$0);b3(b4.$1);}else if(b4.$==3)l.iter(function(b5){b2.push(b5);},b4.$0);}b2=[];b3(b1);return b2.slice(0);};bz.Concat=function(b1){var b2;b2=V.ofSeqNonCopying(b1);return V.TreeReduce(bz.Empty(),bz.Append,b2);};bz.Empty=function(){bS.$cctor();return bS.Empty;};bA.$cctor=function(){var b1,b2,b3,b4,b5,b6,b7,b8,b9,b_;bA.$cctor=a.ignore;bA.EmptyAttr=null;bA.BoolCheckedApply=bW.Curried3(function(b$,ca,cb){return[ca(function(cc){cc.addEventListener("change",function(){return!n.Equals(b$.Get(),cc.checked)?b$.Set(cc.checked):null;});}),cb(function(cc){return function(cd){cc.checked=cd;};})];});bA.StringSet=function(b$){return function(ca){b$.value=ca;};};bA.StringGet=function(b$){return{$:1,$0:b$.value};};bA.StringApply=(b1=bw.StringGet(),(b2=bw.StringSet(),bW.Curried(bw.ApplyValue,3,[b1,function(b$,ca){return(b2(b$))(ca);}])));bA.IntSetUnchecked=function(b$){return function(ca){b$.value=a.String(ca);};};bA.IntGetUnchecked=function(b$){var ca,cb;ca=b$.value;return bL.isBlank(ca)?{$:1,$0:0}:(cb=+ca,cb!==cb>>0?null:{$:1,$0:cb});};bA.IntApplyUnchecked=(b3=bw.IntGetUnchecked(),(b4=bw.IntSetUnchecked(),bW.Curried(bw.ApplyValue,3,[b3,function(b$,ca){return(b4(b$))(ca);}])));bA.IntSetChecked=function(b$){return function(ca){var cb;cb=ca.get_Input();return b$.value!==cb?void(b$.value=cb):null;};};bA.IntGetChecked=function(b$){var ca,cb,cc;ca=b$.value;return{$:1,$0:bL.isBlank(ca)?(b$.checkValidity?b$.checkValidity():true)?new T({$:2,$0:ca}):new T({$:1,$0:ca}):(cb=(cc=0,[U.TryParseInt32(ca,{get:function(){return cc;},set:function(cd){cc=cd;}}),cc]),cb[0]?new T({$:0,$0:cb[1],$1:ca}):new T({$:1,$0:ca}))};};bA.IntApplyChecked=(b5=bw.IntGetChecked(),(b6=bw.IntSetChecked(),bW.Curried(bw.ApplyValue,3,[b5,function(b$,ca){return(b6(b$))(ca);}])));bA.FloatSetUnchecked=function(b$){return function(ca){b$.value=a.String(ca);};};bA.FloatGetUnchecked=function(b$){var ca,cb;ca=b$.value;return bL.isBlank(ca)?{$:1,$0:0}:(cb=+ca,a.isNaN(cb)?null:{$:1,$0:cb});};bA.FloatApplyUnchecked=(b7=bw.FloatGetUnchecked(),(b8=bw.FloatSetUnchecked(),bW.Curried(bw.ApplyValue,3,[b7,function(b$,ca){return(b8(b$))(ca);}])));bA.FloatSetChecked=function(b$){return function(ca){var cb;cb=ca.get_Input();return b$.value!==cb?void(b$.value=cb):null;};};bA.FloatGetChecked=function(b$){var ca,cb;ca=b$.value;return{$:1,$0:bL.isBlank(ca)?(b$.checkValidity?b$.checkValidity():true)?new T({$:2,$0:ca}):new T({$:1,$0:ca}):(cb=+ca,a.isNaN(cb)?new T({$:1,$0:ca}):new T({$:0,$0:cb,$1:ca}))};};bA.FloatApplyChecked=(b9=bw.FloatGetChecked(),(b_=bw.FloatSetChecked(),bW.Curried(bw.ApplyValue,3,[b9,function(b$,ca){return(b_(b$))(ca);}])));};bC=d.FormatException=bW.Class({},bB,bC);bC.New$1=bW.Ctor(function(b1){this.message=b1;R.setPrototypeOf(this,bC.prototype);},bC);bD=d.OverflowException=bW.Class({},bB,bD);bD.New$1=bW.Ctor(function(b1){this.message=b1;R.setPrototypeOf(this,bD.prototype);},bD);bE=g.DynamicAttrNode=bW.Class({NChanged:function(){return this.updates;},NGetExitAnim:function(b1){return be.get_Empty();},NGetEnterAnim:function(b1){return be.get_Empty();},NGetChangeAnim:function(b1){return be.get_Empty();},NSync:function(b1){if(this.dirty){(this.push(b1))(this.value);this.dirty=false;}}},f,bE);bE.New=bW.Ctor(function(b1,b2){var b3;b3=this;f.New.call(this);this.push=b2;this.value=void 0;this.dirty=false;this.updates=Q.Map(function(b4){b3.value=b4;b3.dirty=true;},b1);},bE);bF=bs.Scheduler=bW.Class({Fork:function(b1){var b2;b2=this;this.robin.push(b1);this.idle?(this.idle=false,a.setTimeout(function(){b2.tick();},0)):void 0;},tick:function(){var b1,b2,b3;b2=this;b3=b0.now();b1=true;while(b1)if(this.robin.length===0){this.idle=true;b1=false;}else{(this.robin.shift())();b0.now()-b3>40?(a.setTimeout(function(){b2.tick();},0),b1=false):void 0;}}},f,bF);bF.New=bW.Ctor(function(){f.New.call(this);this.idle=true;this.robin=[];},bF);bG=g.Easing=bW.Class({},f,bG);bG.Custom=function(b1){return new bG.New(b1);};bG.New=bW.Ctor(function(b1){f.New.call(this);this.transformTime=b1;},bG);bH.New=function(b1,b2){return{k:b1,ct:b2};};bI.$cctor=function(){bI.$cctor=a.ignore;bI.noneCT=bJ.New(false,[]);bI.scheduler=new bF.New();bI.defCTS=[new bM.New()];bI.Zero=bs.Return();bI.GetCT=function(b1){b1.k({$:0,$0:b1.ct});};};bJ.New=function(b1,b2){return{c:b1,r:b2};};bK.Filter=function(b1,b2){return new I.New$2(l.filter(b1,bK.ToArray(b2)));};bK.Except=function(b1,b2){var b3;b3=new I.New$2(bK.ToArray(b2));b3.ExceptWith(bK.ToArray(b1));return b3;};bK.ToArray=function(b1){var b2;b2=l.create(b1.get_Count(),void 0);b1.CopyTo(b2);return b2;};bK.Intersect=function(b1,b2){var b3;b3=new I.New$2(bK.ToArray(b1));b3.IntersectWith(bK.ToArray(b2));return b3;};bL.isBlank=function(b1){return bm.forall(bO.IsWhiteSpace,b1);};bM=d.CancellationTokenSource=bW.Class({},f,bM);bM.New=bW.Ctor(function(){f.New.call(this);this.c=false;this.pending=null;this.r=[];this.init=1;},bM);bN.Children=function(b1,b2){var b3,b4,b5;if(b2!=null&&b2.$==1){b5=[];b3=b2.$0[0].nextSibling;while(b3!==b2.$0[1]){b5.push(b3);b3=b3.nextSibling;}return{$:0,$0:b5};}else return{$:0,$0:l.init(b1.childNodes.length,(b4=b1.childNodes,function(b6){return b4[b6];}))};};bN.Except=function(b1,b2){var b3;b3=b1.$0;return{$:0,$0:l.filter(function(b4){return l.forall(function(b5){return!(b4===b5);},b3);},b2.$0)};};bN.Iter=function(b1,b2){l.iter(b1,b2.$0);};bN.DocChildren=function(b1){var b2;function b3(b4){if(b4!=null&&b4.$==2)b3(b4.$0.Current);else if(b4!=null&&b4.$==1)b2.push(b4.$0.El);else if(b4==null);else if(b4!=null&&b4.$==5)b2.push(b4.$0);else if(b4!=null&&b4.$==4)b2.push(b4.$0.Text);else if(b4!=null&&b4.$==6)l.iter(function(b5){if(b5==null||b5.constructor===R)b3(b5);else b2.push(b5);},b4.$0.Els);else{b3(b4.$0);b3(b4.$1);}}b2=[];b3(b1.Children);return{$:0,$0:V.ofSeqNonCopying(b2)};};bO.IsWhiteSpace=function(b1){return b1.match(new a.RegExp("\\s"))!==null;};bP.Clear=function(b1){b1.splice(0,l.length(b1));};bQ=d.OperationCanceledException=bW.Class({},bB,bQ);bQ.New=bW.Ctor(function(b1){bQ.New$1.call(this,"The operation was canceled.",null,b1);},bQ);bQ.New$1=bW.Ctor(function(b1,b2,b3){this.message=b1;this.inner=b2;R.setPrototypeOf(this,bQ.prototype);this.ct=b3;},bQ);bR.Create=function(b1){return bU.New(false,b1,bR.forceLazy);};bR.forceLazy=function(){var b1;b1=this.v();this.c=true;this.v=b1;this.f=bR.cachedLazy;return b1;};bR.cachedLazy=function(){return this.v;};bS.$cctor=function(){bS.$cctor=a.ignore;bS.Empty={$:0};};bU.New=function(b1,b2,b3){return{c:b1,v:b2,f:b3};};bW.OnLoad(function(){c.Main();});}());


if (typeof IntelliFactory !=='undefined') {
  IntelliFactory.Runtime.ScriptBasePath = '/Content/';
  IntelliFactory.Runtime.Start();
}
